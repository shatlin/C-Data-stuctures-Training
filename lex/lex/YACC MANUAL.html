<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">
<!-- Mirrored from dinosaur.compilertools.net/yacc/index.html by HTTrack Website Copier/3.x [XR&CO'2004], Thu, 29 Apr 2004 07:25:52 GMT -->

<head>
<meta http-equiv=Content-Type content="text/html; charset=us-ascii">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="YACC%20MANUAL_files/filelist.xml">
<title> Yacc: Yet Another Compiler-Compiler </title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="time"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="date"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PostalCode"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="State"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="City"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Shatlin</o:Author>
  <o:LastAuthor>Shatlin</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>2</o:TotalTime>
  <o:Created>2004-05-05T08:11:00Z</o:Created>
  <o:LastSaved>2004-05-05T08:11:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>12318</o:Words>
  <o:Characters>70213</o:Characters>
  <o:Lines>585</o:Lines>
  <o:Paragraphs>164</o:Paragraphs>
  <o:CharactersWithSpaces>82367</o:CharactersWithSpaces>
  <o:Version>10.2625</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>95</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p
	{font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
pre
	{margin-top:0in;
	margin-bottom:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050">
  <o:colormru v:ext="edit" colors="#fac862"/>
  <o:colormenu v:ext="edit" fillcolor="#fac862"/>
 </o:shapedefaults></xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor="#FAC862" lang=EN-US link=blue vlink=blue style='tab-interval:
.5in'>

<div class=Section1>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'><a
href="file:///E:\programming\lex\yacc\dinosaur.compilertools.net\index.html">The
<span class=SpellE>Lex</span> &amp; <span class=SpellE>Yacc</span> Page</a> <o:p></o:p></span></p>

<h1><span class=SpellE><span style='font-size:26.0pt;mso-bidi-font-size:24.0pt'>Yacc</span></span><span
style='font-size:26.0pt;mso-bidi-font-size:24.0pt'>: Yet <span class=GramE>Another</span>
Compiler-Compiler <o:p></o:p></span></h1>

<p class=MsoNormal><st1:place><st1:City><b><i><span style='font-size:14.0pt;
  mso-bidi-font-size:12.0pt'>Stephen C. Johnson<br>
  AT&amp;T Bell Laboratories<br>
  Murray Hill</span></i></b></st1:City><b><i><span style='font-size:14.0pt;
 mso-bidi-font-size:12.0pt'>, </span></i></b><st1:State><b><i><span
  style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>New Jersey</span></i></b></st1:State><b><i><span
 style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> </span></i></b><st1:PostalCode><b><i><span
  style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>07974</span></i></b></st1:PostalCode></st1:place><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> </span></i></b><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'><o:p></o:p></span></p>

<h2><span style='font-size:20.0pt;mso-bidi-font-size:18.0pt'><br>
<br>
<br>
ABSTRACT <o:p></o:p></span></h2>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Computer program
input generally has some structure; in fact, every computer program that does
input can be thought of as defining an ``input language'' which it accepts. An
input language may be as complex as a programming language, or as simple as a
sequence of numbers. Unfortunately, usual input facilities are limited,
difficult to use, and often are lax about checking their inputs for validity. <o:p></o:p></span></p>

<p><span class=SpellE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Yacc</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> provides a general tool for
describing the input to a computer program. The <span class=SpellE>Yacc</span>
user specifies the structures of his input, together with code to be invoked as
each such structure is recognized. <span class=SpellE>Yacc</span> turns such a
specification into a subroutine that handles the input process; frequently, it
is convenient and appropriate to have most of the flow of control in <span
class=GramE>the</span> user's application handled by this subroutine. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The input
subroutine produced by <span class=SpellE>Yacc</span> calls a user-supplied
routine to return the next basic input item. Thus, the user can specify his
input in terms of individual input <span class=GramE>characters,</span> or in
terms of higher level constructs such as names and numbers. The user-supplied
routine may also handle idiomatic features such as comment and continuation
conventions, which typically defy easy grammatical specification. <o:p></o:p></span></p>

<p><span class=SpellE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Yacc</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> is written in portable C.
The class of specifications accepted is a very general one: <span class=GramE>LALR(</span>1)
grammars with disambiguating rules. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In addition to
compilers for C, APL, Pascal, RATFOR, etc., <span class=SpellE>Yacc</span> has
also been used for less conventional languages, including a phototypesetter
language, several desk calculator languages, a document retrieval system, and a
<span class=GramE>Fortran</span> debugging system. <o:p></o:p></span></p>

<h2><span style='font-size:20.0pt;mso-bidi-font-size:18.0pt'>0: Introduction <o:p></o:p></span></h2>

<p class=MsoNormal><span class=SpellE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>Yacc</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> provides a general tool for imposing structure on the input to a
computer program. The <span class=SpellE>Yacc</span> user prepares a
specification of the input process; this includes rules describing the input
structure, code to be invoked when these rules are recognized, and a low-level
routine to do the basic input. <span class=SpellE>Yacc</span> then generates a
function to control the input process. This function, called a parser, calls
the user-supplied low-level input routine (the lexical analyzer) to pick up the
basic items (called tokens) from the input stream. These tokens are organized
according to the input structure rules, called grammar rules; when one of these
rules has been recognized, then user code supplied for this rule, an action, is
invoked; actions have the ability to return values and make use of the values
of other actions. <o:p></o:p></span></p>

<p><span class=SpellE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Yacc</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> is written in a portable
dialect of <span class=GramE>C[</span>1] and the actions, and output
subroutine, are in C as well. Moreover, many of the syntactic conventions of <span
class=SpellE>Yacc</span> follow C. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The heart of the
input specification is a collection of grammar rules. Each rule describes an
allowable structure and gives it a name. For example, one grammar rule might be
<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>date<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>month_name</span><span style='mso-spacerun:yes'>&nbsp; </span>day<span style='mso-spacerun:yes'>&nbsp; </span>','<span style='mso-spacerun:yes'>&nbsp; </span>year<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Here,
date, <span class=SpellE>month_name</span>, day, and year represent structures
of interest in the input process; presumably, <span class=SpellE>month_name</span>,
day, and year are defined elsewhere. The comma ``,'' is enclosed in single
quotes; this implies that the comma is to appear literally in the input. The
colon and semicolon merely serve as punctuation in the rule, and have no
significance in controlling the input. Thus, with proper definitions, the input
<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><st1:date
Year="1776" Day="4" Month="7"><span class=GramE><span style='font-size:12.0pt;
 mso-bidi-font-size:10.0pt'>July<span style='mso-spacerun:yes'>&nbsp; </span>4</span></span><span
 style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>, 1776</span></st1:date><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>might</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> be matched by the above rule. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>An important part
of the input process is carried out by the lexical analyzer. This user routine
reads the input stream, recognizing the lower level structures, and
communicates these tokens to the parser. For historical reasons, a structure
recognized by the lexical analyzer is called a terminal symbol, while the structure
recognized by the parser is called a <span class=SpellE>nonterminal</span>
symbol. To avoid confusion, terminal symbols will usually be referred to as
tokens. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>There is
considerable leeway in deciding whether to recognize structures using the
lexical analyzer or grammar rules. For example, the rules <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>month_<span class=GramE>name</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span>'J' 'a' 'n'<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>month_<span class=GramE>name</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span>'F' 'e' 'b'<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>. . .<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>month_<span class=GramE>name</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span>'D' 'e' 'c'<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>might</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> be used in the above example. The lexical analyzer would only need to
recognize individual letters, and <span class=SpellE>month_name</span> would be
a <span class=SpellE>nonterminal</span> symbol. Such low-level rules tend to
waste time and space, and may complicate the specification beyond <span
class=SpellE>Yacc's</span> ability to deal with it. Usually, the lexical
analyzer would recognize the month names, and return an indication that a <span
class=SpellE>month_name</span> was seen; in this case, <span class=SpellE>month_name</span>
would be a token. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Literal characters
such as ``,'' must also be passed through the lexical analyzer, and are also
considered tokens. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Specification files
are very flexible. It is <span class=SpellE>realively</span> easy to add to the
above example the rule <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>date<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span>month '/' day '/' year<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>allowing</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>7 / 4 / 1776<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>as</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
a synonym for <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><st1:date
Year="1776" Day="4" Month="7"><span style='font-size:12.0pt;mso-bidi-font-size:
 10.0pt'>July 4, 1776</span></st1:date><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In
most cases, this new rule could be ``slipped in'' to a working system with minimal
effort, and little danger of disrupting existing input. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The input being
read may not conform to the specifications. These input errors are detected as
early as is theoretically possible with a left-to-right scan; thus, not only is
the chance of reading and computing with bad input data substantially reduced,
but the bad data can usually be quickly found. Error handling, provided as part
of the input specifications, permits the reentry of bad data, or the
continuation of the input process after skipping over the bad data. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In some cases, <span
class=SpellE>Yacc</span> fails to produce a parser when given a set of
specifications. For example, the specifications may be self contradictory, or
they may require a more powerful recognition mechanism than that available to <span
class=SpellE>Yacc</span>. The former cases represent design errors; the latter
cases can often be corrected by making the lexical analyzer more powerful, or
by rewriting some of the grammar rules. While <span class=SpellE>Yacc</span>
cannot handle all possible specifications, its power compares favorably with similar
systems; moreover, the constructions which are difficult for <span
class=SpellE>Yacc</span> to <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>handle</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> are also frequently
difficult for human beings to handle. Some users have reported that the
discipline of formulating valid <span class=SpellE>Yacc</span> specifications
for their input revealed errors of conception or design early in the program
development. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The theory
underlying <span class=SpellE>Yacc</span> has been described elsewhere<span
class=GramE>.[</span>2, 3, 4] <span class=SpellE>Yacc</span> has been
extensively used in numerous practical applications, including lint,[5] the
Portable C Compiler,[6] and a system for typesetting mathematics.[7] <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The next several
sections describe the basic process of preparing a <span class=SpellE>Yacc</span>
specification; Section 1 describes the preparation of grammar rules, Section 2
the preparation of the user supplied actions associated with these rules, and
Section 3 the preparation of lexical analyzers. Section 4 describes the
operation of the parser. Section 5 discusses various reasons why <span
class=SpellE>Yacc</span> may be unable to produce a parser from a
specification, and what to do about it. Section 6 describes a simple mechanism
for handling operator <span class=SpellE>precedences</span> in arithmetic
expressions. Section 7 discusses error detection and recovery. Section 8
discusses the operating environment and special features of the parsers <span
class=SpellE>Yacc</span> produces. Section 9 gives some suggestions which
should improve the style and efficiency of the specifications. Section 10
discusses some advanced topics, and Section 11 gives acknowledgements. Appendix
A has a brief example, and Appendix B gives a summary of the <span
class=SpellE>Yacc</span> input syntax. Appendix C gives an example using some
of the more advanced features of <span class=SpellE>Yacc</span>, and, finally,
Appendix D describes mechanisms and syntax no longer actively supported, but
provided for historical continuity with older versions of <span class=SpellE>Yacc</span>.
<o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>1: Basic
Specifications <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Names refer to either
tokens or <span class=SpellE>nonterminal</span> symbols. <span class=SpellE>Yacc</span>
requires token names to be declared as such. In addition, for reasons discussed
in Section 3, it is often desirable to include the lexical analyzer as part of
the specification file; it may be useful to include other programs as well.
Thus, every specification file consists of three sections: the declarations,
(grammar) rules, and programs. The sections are separated by double percent
``%%'' marks. (The percent ``%'' is generally used in <span class=SpellE>Yacc</span>
specifications as an escape character.) <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In other words, a
full specification file looks like <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>declarations</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>rules</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>programs</span><o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The
declaration section may be empty. Moreover, if the programs section is omitted,
the second %% mark may be omitted also; <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>thus</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>, the smallest legal <span
class=SpellE>Yacc</span> specification is <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>rules</span><o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Blanks, tabs, and <span
class=SpellE>newlines</span> are ignored except that they may not appear in
names or multi-character reserved symbols. Comments may appear wherever a name
is legal; they are enclosed in /* . . . */, as in C and PL/I. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The rules section
is made up of one or more grammar rules. A grammar rule has the form: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>A<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span>BODY<span style='mso-spacerun:yes'>&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>A
represents a <span class=SpellE>nonterminal</span> name, and BODY represents a
sequence of zero or more names and literals. The colon and the semicolon are <span
class=SpellE>Yacc</span> punctuation. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Names may be of
arbitrary length, and may be made up of letters, dot ``.'', underscore ``_'',
and non-initial digits. Upper and lower case letters are distinct. The names
used in the body of a grammar rule may represent tokens or <span class=SpellE>nonterminal</span>
symbols. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>A literal consists
of a character enclosed in single quotes ``'''. As in C, the backslash ``\'' is
an escape character within literals, and all the C escapes are recognized. Thus
<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'\n'<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>newline</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'\r'<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'\''<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>single quote ``'''<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'\\'<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>backslash ``\''<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'\t'<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>tab<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'\b'<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>backspace<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'\f'<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>form feed<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'\<span
class=GramE>xxx'<span style='mso-spacerun:yes'>&nbsp; </span>`</span>`xxx'' in octal<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>For
a number of technical reasons, the NUL character ('\0' or 0) should never be
used in grammar rules. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>If there are
several grammar rules with the same left hand side, the vertical bar ``|'' can
be used to avoid rewriting the left hand side. In addition, the semicolon at the
end of a rule can be dropped before a vertical bar. Thus the grammar rules <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>B<span style='mso-spacerun:yes'>&nbsp; </span>C</span><span style='mso-spacerun:yes'>&nbsp; </span>D<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>E<span style='mso-spacerun:yes'>&nbsp; </span>F</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>G<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>can</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
be given to <span class=SpellE>Yacc</span> as <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>B<span style='mso-spacerun:yes'>&nbsp; </span>C</span><span style='mso-spacerun:yes'>&nbsp; </span>D<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class=GramE>E<span style='mso-spacerun:yes'>&nbsp; </span>F</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>G<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>It
is not necessary that all grammar rules with the same left side appear together
in the grammar rules section, although it makes the input much more readable,
and easier to change. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>If a <span
class=SpellE>nonterminal</span> symbol matches the empty string, this can be
indicated in the obvious way: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>empty :</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Names representing
tokens must be declared; this is most simply done by writing <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%token<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
class=GramE>name1<span style='mso-spacerun:yes'>&nbsp; </span>name2</span> . . .<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>in</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
the declarations section. (See Sections <span class=GramE>3 ,</span> 5, and 6
for much more discussion). Every name not defined in the declarations section
is assumed to represent a <span class=SpellE>nonterminal</span> symbol. Every <span
class=SpellE>nonterminal</span> symbol must appear on the left side of at least
one rule. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Of all the <span
class=SpellE>nonterminal</span> symbols, one, called the start symbol, has
particular importance. The parser is designed to recognize the start symbol;
thus, this symbol represents the largest, most general structure described by
the grammar rules. By default, the start symbol is taken to be the left hand
side of the first grammar rule in the rules section. It is possible, and in
fact desirable, to declare the start symbol explicitly in the declarations <span
class=GramE>section using the %start</span> keyword: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%start<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>symbol<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The end of the
input to the parser is signaled by a special token, called the <span
class=SpellE>endmarker</span>. If the tokens up to, but not including, the <span
class=SpellE>endmarker</span> form a structure which matches the start symbol,
the parser function returns to its caller after the <span class=SpellE>endmarker</span>
is seen; it accepts the input. If the <span class=SpellE>endmarker</span> is
seen in any other context, it is an error. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>It is the job of
the user-supplied lexical analyzer to return the <span class=SpellE>endmarker</span>
when appropriate; see section 3, below. Usually the <span class=SpellE>endmarker</span>
represents some reasonably obvious I/O status, such as ``end-of-file'' or
``end-of-record''. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>2: Actions <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>With each grammar
rule, the user may associate actions to be <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>performed</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> each time the rule is
recognized in the input process. These actions may return values, and may
obtain the values returned by previous actions. Moreover, the lexical analyzer
can return values for tokens, if desired. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>An action is an
arbitrary C statement, and as such can do input and output, call subprograms,
and alter external vectors and variables. An action is specified by one or more
statements, enclosed in curly braces `<span class=GramE>`{</span>'' and ``}''.
For example, <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'(<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span>B</span><span style='mso-spacerun:yes'>&nbsp; </span>')'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>hello(</span> 1, &quot;<span class=SpellE>abc</span>&quot; );<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>XXX<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>YYY<span style='mso-spacerun:yes'>&nbsp; </span>ZZZ</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>printf</span></span><span class=GramE>(</span>&quot;a message\n&quot;);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>flag</span> = 25;<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>are</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
grammar rules with actions. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>To facilitate easy
communication between the actions and the parser, the action statements are
altered slightly. The symbol ``dollar sign'' ``$'' is used as a signal to <span
class=SpellE>Yacc</span> in this context. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>To return a value,
the action normally sets the <span class=SpellE>pseudovariable</span> ``$$'' to
some value. For example, an action that does nothing but return the value 1 is <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>{<span style='mso-spacerun:yes'>&nbsp; </span>$</span>$ = 1;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>To obtain the
values returned by previous actions and the lexical analyzer, the action may
use the pseudo-variables $1, $2<span class=GramE>, . . .,</span> which refer to
the values returned by the components of the right side of a rule, reading from
left to right. Thus, if the rule is <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>B<span style='mso-spacerun:yes'>&nbsp; </span>C</span><span style='mso-spacerun:yes'>&nbsp; </span>D<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>for</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
example, then $2 has the value returned by C, and $3 the value returned by D. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>As a more concrete
example, consider the rule <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'('<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>')'<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The
value returned by this rule is usually the value of the <span class=SpellE>expr</span>
in parentheses. This can be indicated by <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'('<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>')'<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp; </span>$$ = $2 ;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>By default, the
value of a rule is the value of the first element in it ($1). Thus, grammar
rules of the form <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A <span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>B<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>frequently</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> need not have an explicit action. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In the examples
above, all the actions came at the end of their rules. Sometimes, it is
desirable to get control before a rule is fully parsed. <span class=SpellE>Yacc</span>
permits an action to be written in the middle of a rule as well as at the end.
This rule is assumed to return a value, accessible through the usual mechanism
by the actions to the right of it. In turn, it may access the values returned
by the symbols to its left. Thus, in the rule <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>B<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>{<span style='mso-spacerun:yes'>&nbsp; </span>$</span>$ = 1;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>x = $2;<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>y = $3<span
class=GramE>;<span style='mso-spacerun:yes'>&nbsp; </span>}</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>the</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
effect is to set x to 1, and y to the value returned by C. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Actions that do not
terminate a rule are actually handled by <span class=SpellE>Yacc</span> by
manufacturing a new <span class=SpellE>nonterminal</span> symbol name, and a
new rule matching this name to the empty string. The interior action is the
action triggered off by recognizing this added rule. <span class=SpellE>Yacc</span>
actually treats the above example as if it had been written: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$ACT<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* empty */<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>{<span style='mso-spacerun:yes'>&nbsp; </span>$</span>$ = 1;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>B<span style='mso-spacerun:yes'>&nbsp; </span>$</span>ACT<span style='mso-spacerun:yes'>&nbsp; </span>C<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>x = $2;<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>y = $3<span
class=GramE>;<span style='mso-spacerun:yes'>&nbsp; </span>}</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In many
applications, output is not done directly by the actions; rather, a data
structure, such as a parse tree, is constructed in memory, and transformations
are applied to it before output is generated. Parse trees are particularly easy
to construct, given routines to build and maintain the tree structure desired.
For example, suppose there is a C function node, written so that the call <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>node(</span> L, n1, n2 )<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>creates</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> a node with label L, and descendants n1 and n2, and returns the index
of the newly created node. Then parse tree can be built by supplying actions
such as: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>'+'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>{<span style='mso-spacerun:yes'>&nbsp; </span>$</span>$ = node( '+', $1, $3 );<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>in</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
the specification. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The user may define
other variables to be used by the actions. Declarations and definitions can
appear in the declarations section, enclosed in the marks `<span class=GramE>`%</span>{''
and ``%}''. These declarations and definitions have global scope, so they are
known to the action statements and the lexical analyzer. For example, <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%{<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>int</span></span> variable = 0;<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>%}<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>could</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> be placed in the declarations section, making variable accessible to
all of the actions. The <span class=SpellE>Yacc</span> parser uses only names
beginning in ``<span class=SpellE>yy</span>''; the user should avoid such
names. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In these examples,
all the values are integers: a discussion of values of other types will be
found in Section 10. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>3: Lexical Analysis
<o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The user must
supply a lexical analyzer to read the input stream and communicate tokens (with
values, if desired) to the parser. The lexical analyzer is an integer-valued
function called <span class=SpellE>yylex</span>. The function returns an
integer, the token number, representing the kind of token read. If there is a
value associated with that token, it should be assigned to the external
variable <span class=SpellE>yylval</span>. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The parser and the
lexical analyzer must agree on these token numbers in order for communication
between them to take place. The numbers may be chosen by <span class=SpellE>Yacc</span>,
or chosen by the user. In either case, the ``# define'' mechanism of C is used
to allow the lexical analyzer to return these numbers symbolically. For
example, suppose that the token name DIGIT has been defined in the declarations
section of the <span class=SpellE>Yacc</span> specification file. The relevant
portion of the lexical analyzer might look like: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yylex</span></span><span class=GramE>(</span>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>extern</span> <span class=SpellE>int</span> <span class=SpellE>yylval</span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>int</span></span> c;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>. . .<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c = <span
class=SpellE><span class=GramE>getchar</span></span><span class=GramE>(</span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>. . .<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>switch</span>( c ) {<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>. . .<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>case</span> '0':<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>case</span> '1':<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>. . .<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class=GramE>case</span> '9':<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yylval</span></span> = c-'0';<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span> DIGIT );<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>. . .<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>. . .<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The intent is to
return a token number of <span class=GramE>DIGIT</span>, and a value equal to
the numerical value of the digit. Provided that the lexical analyzer code is
placed in the programs section of the specification file, the identifier DIGIT
will be defined as the token number associated with the token DIGIT. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This mechanism
leads to clear, easily modified lexical analyzers; the only pitfall is the need
to avoid using any token names in the grammar that are reserved or significant
in C or the parser; for example, the use of token names if or while will almost
certainly cause severe difficulties when the lexical analyzer is compiled. The
token name error is reserved for error handling, and should not be used naively
(see Section 7). <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>As mentioned above,
the token numbers may be chosen by <span class=SpellE>Yacc</span> or by the
user. In the default situation, the numbers are chosen by <span class=SpellE>Yacc</span>.
The default token number for a literal character is the numerical value of the
character in the local character set. Other names are assigned token numbers
starting at 257. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>To assign a token
number to a token (including literals), the first appearance of the token name
or literal in the declarations section can be immediately followed by a
nonnegative integer. This integer is taken to be the token number of the name
or literal. Names and literals not defined by this mechanism retain their default
definition. It is important that all token numbers be distinct. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>For historical
reasons, the <span class=SpellE>endmarker</span> must have token number 0 or
negative. This token number cannot be redefined by the user; thus, all lexical
analyzers should be prepared to return 0 or negative as a token number upon
reaching the end of their input. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>A very useful tool
for constructing lexical analyzers is the <span class=SpellE>Lex</span> program
developed by Mike <span class=SpellE>Lesk</span><span class=GramE>.[</span>8]
These lexical analyzers are designed to work in close harmony with <span
class=SpellE>Yacc</span> parsers. The specifications for these lexical
analyzers use regular expressions instead of grammar rules. <span class=SpellE>Lex</span>
can be easily used to produce quite complicated lexical analyzers, but there
remain some languages (such as FORTRAN) which do not fit any theoretical
framework, and whose lexical analyzers must be crafted by hand. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>4: How the Parser
Works <o:p></o:p></span></p>

<p><span class=SpellE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Yacc</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> turns the specification
file into a C program, which parses the input according to the specification
given. The algorithm used to go from the specification to the parser is complex,
and will not be discussed here (see the references for more information). The
parser itself, however, is relatively simple, and understanding how it works,
while not strictly necessary, will nevertheless make treatment of error
recovery and ambiguities much more comprehensible. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The parser produced
by <span class=SpellE>Yacc</span> consists of a finite state machine with a
stack. The parser is also capable of reading and remembering the next input
token (called the <span class=SpellE>lookahead</span> token). The current state
is always the one on the top of the stack. The states of the finite state
machine are given small integer labels; initially, the machine is in state 0,
the stack contains only state 0, and no <span class=SpellE>lookahead</span>
token has been read. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The machine has
only four actions available to it, called shift, reduce, accept, and error. A
move of the parser is done as follows: <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>1. Based on its
current state, the parser decides whether it needs a <span class=SpellE>lookahead</span>
token to decide what action should be done; if it needs one, and does not have
one, it calls <span class=SpellE>yylex</span> to obtain the next token. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>2. Using the
current state, and the <span class=SpellE>lookahead</span> token if needed, the
parser decides on its next action, and carries it out. This may result in
states being pushed onto the stack, or popped off of the stack, and in the <span
class=SpellE>lookahead</span> token being processed or left alone. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The shift action is
the most common action the parser takes. Whenever a shift action is taken,
there is always a <span class=SpellE>lookahead</span> token. For example, in
state 56 there may be an action: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>shift 34<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>which</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> says, in state 56, if the <span class=SpellE>lookahead</span> token is
IF, the current state (56) is pushed down on the stack, and state 34 becomes
the current state (on the top of the stack). The <span class=SpellE>lookahead</span>
token is cleared. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The reduce action
keeps the stack from growing without bounds. Reduce actions are appropriate
when the parser has seen the right hand side of a grammar rule, and is prepared
to announce that it has seen an instance of the rule, replacing the right hand
side by the left hand side. It may be necessary to consult the <span
class=SpellE>lookahead</span> token to decide whether to reduce, but usually it
is not; in fact, the default action (represented by a ``.'') is often a reduce
action. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Reduce actions are
associated with individual grammar rules. Grammar rules are also given small
integer numbers, leading to some confusion. The action <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>reduce</span> 18<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>refers</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> to grammar rule 18, while the action <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>shift 34<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>refers</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> to state 34. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Suppose the rule
being reduced is <o:p></o:p></span></p>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>A :</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
x y z ; <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The reduce action
depends on the left hand symbol (A in this case), and the number of symbols on
the right hand side (three in this case). To reduce, first pop off the top
three states from the stack (In general, the number of states popped equals the
number of symbols on the right side of the rule). In effect, these states were
the ones put on the stack while recognizing x, y, and z, and no longer serve
any useful purpose. After popping these states, a state is uncovered which was
the state the parser was in before beginning to process the rule. Using this
uncovered state, and the symbol on the left side of the rule, perform what is
in effect a shift of A. A new state is obtained, pushed onto the stack, and
parsing continues. There are significant differences between the processing of
the left hand symbol and an ordinary shift of a token, however, so this action
is called a <span class=SpellE>goto</span> action. In particular, the <span
class=SpellE>lookahead</span> token is cleared by a shift, and is not affected
by a <span class=SpellE>goto</span>. In any case, the uncovered state contains
an entry such as: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>goto</span> 20<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>causing</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> state 20 to be pushed onto the stack, and become the current state. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In effect, the
reduce action ``turns back the clock'' in the parse, popping the states off the
stack to go back to the state where the right hand side of the rule was first
seen. The parser then behaves as if it had seen the left side at that time. If
the right hand side of the rule is empty, no states are popped off of the
stack: the uncovered state is in fact the current state. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The reduce action
is also important in the treatment of user-supplied actions and values. When a
rule is reduced, the code supplied with the rule is executed before the stack
is adjusted. In addition to the stack holding the states, another stack,
running in parallel with it, holds the values returned from the lexical
analyzer and the actions. When a shift takes place, the external variable <span
class=SpellE>yylval</span> is copied onto the value stack. After the return
from the user code, the reduction is carried out. When the <span class=SpellE>goto</span>
action is done, the external variable <span class=SpellE>yyval</span> is copied
onto the value stack. The pseudo-variables $1, $2, etc., refer to the value
stack. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The other two
parser actions are conceptually much simpler. The accept action indicates that
the entire input has been seen and that it matches the specification. This
action appears only when the <span class=SpellE>lookahead</span> token is the <span
class=SpellE>endmarker</span>, and indicates that the parser has successfully
done its job. The error action, on the other hand, represents a place where the
parser can no longer continue parsing according to the specification. The input
<o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>tokens</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> it has seen, together with
the <span class=SpellE>lookahead</span> token, cannot be followed by anything
that would result in a legal input. The parser reports an error, and attempts
to recover the situation and resume parsing: the error recovery (as opposed to
the detection of error) will be covered in Section 7. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>It is time for an
example! Consider the specification <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>token<span style='mso-spacerun:yes'>&nbsp; </span>DING</span><span style='mso-spacerun:yes'>&nbsp; </span>DONG<span style='mso-spacerun:yes'>&nbsp; </span>DELL<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>rhyme</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sound<span style='mso-spacerun:yes'>&nbsp; </span>place<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'> <span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>sound</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DING<span style='mso-spacerun:yes'>&nbsp; </span>DONG<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>place</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DELL<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>When <span
class=SpellE>Yacc</span> is invoked with the -v option, a file called <span
class=SpellE>y.output</span> is produced, with a human-readable description of
the parser. The <span class=SpellE>y.output</span> file corresponding to the
above grammar (with some statistics stripped off the end) is: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>state</span> 0<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>accept<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span>_rhyme<span style='mso-spacerun:yes'>&nbsp; </span>$end<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>DING<span style='mso-spacerun:yes'>&nbsp; </span>shift</span> 3<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span style='mso-spacerun:yes'>&nbsp; </span><span
class=GramE>error</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>rhyme<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>goto</span></span> 1<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>sound <span style='mso-spacerun:yes'>&nbsp;</span><span
class=SpellE>goto</span></span> 2<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>state</span> 1<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>accept<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
class=SpellE>rhyme_$end</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>end<span style='mso-spacerun:yes'>&nbsp; </span>accept</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span style='mso-spacerun:yes'>&nbsp; </span><span
class=GramE>error</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>state</span> 2<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>rhyme<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
class=SpellE>sound_place</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>DELL<span style='mso-spacerun:yes'>&nbsp; </span>shift</span> 5<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span style='mso-spacerun:yes'>&nbsp; </span><span
class=GramE>error</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>place</span><span style='mso-spacerun:yes'>&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;</span><span
class=SpellE>goto</span> 4<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>state</span> 3<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>sound</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>DING_DONG<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>DONG<span style='mso-spacerun:yes'>&nbsp; </span>shift</span> 6<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span style='mso-spacerun:yes'>&nbsp; </span><span
class=GramE>error</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>state</span> 4<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>rhyme<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>sound<span style='mso-spacerun:yes'>&nbsp; </span>place_<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>(1)<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
class=GramE>reduce<span style='mso-spacerun:yes'>&nbsp; </span>1</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>state</span> 5<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>place<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>DELL_<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>(3)<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
class=GramE>reduce<span style='mso-spacerun:yes'>&nbsp; </span>3</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>state</span> 6<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>sound</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>DING<span style='mso-spacerun:yes'>&nbsp; </span>DONG_<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>(2)<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
class=GramE>reduce<span style='mso-spacerun:yes'>&nbsp; </span>2</span><o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Notice
that, in addition to the actions for each state, there is a description of the
parsing rules being processed in each state. The _ character is used to
indicate what has been seen, and what is yet to come, in each rule. Suppose the
input is <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>DING<span style='mso-spacerun:yes'>&nbsp; </span>DONG</span><span style='mso-spacerun:yes'>&nbsp; </span>DELL<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>It
is instructive to follow the steps of the parser while processing this input. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Initially, the
current state is state 0. The parser needs to refer to the input in order to
decide between the actions available in state 0, so the first token, DING, is
read, becoming the <span class=SpellE>lookahead</span> token. The action in
state 0 on DING is <span class=SpellE>is</span> ``shift 3'', so state 3 is pushed
onto the <span class=GramE>stack,</span> and the <span class=SpellE>lookahead</span>
token is cleared. State 3 becomes the current state. The next token, DONG, is
read, becoming the <span class=SpellE>lookahead</span> token. The action in
state 3 on the token DONG is ``shift 6'', so state 6 is pushed onto the <span
class=GramE>stack,</span> and the <span class=SpellE>lookahead</span> is
cleared. The stack now contains 0, 3, and 6. In state 6, without even
consulting the <span class=SpellE>lookahead</span>, the parser reduces by rule
2. <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>sound<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>DING<span style='mso-spacerun:yes'>&nbsp; </span>DONG<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This
rule has two symbols on the right hand side, so two states, 6 and 3, are popped
off of the stack, uncovering state 0. Consulting the description of state 0,
looking for a <span class=SpellE>goto</span> on sound, <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>sound</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
class=SpellE>goto</span> 2<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>is</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
obtained; thus state 2 is pushed onto the stack, becoming the current state. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In state 2, the
next token, DELL, must be read. The action is ``shift 5'', so state 5 is pushed
onto the stack, which now has 0, 2, and 5 on it, and the <span class=SpellE>lookahead</span>
token is cleared. In state 5, the only action is to reduce by rule 3. This has
one symbol on the right hand side, so one state, 5, is popped off, and state 2
is uncovered. The <span class=SpellE>goto</span> in state 2 on place, the left
side of rule 3, is state 4. Now, the stack contains 0, 2, and 4. In state 4,
the only action is to reduce by rule 1. There are two symbols on the right, so
the top two states are popped off, uncovering state 0 again. In state 0, there
is a <span class=SpellE>goto</span> on rhyme causing the parser to enter state
1. In state 1, the input is read; the <span class=SpellE>endmarker</span> is
obtained, indicated by ``$end'' in the <span class=SpellE>y.output</span> file.
The action in state 1 when the <span class=SpellE>endmarker</span> is seen is
to accept, successfully ending the parse. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The reader is urged
to consider how the parser works when confronted with such incorrect strings as
DING DONG <span class=SpellE>DONG</span>, DING DONG, DING DONG DELL <span
class=SpellE>DELL</span>, etc. A few minutes spend with this and other simple
examples will probably be repaid when problems arise in more complicated
contexts. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>5: Ambiguity and
Conflicts <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>A set of grammar
rules is ambiguous if there is some input string that can be structured in two
or more different ways. For example, the grammar rule <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>'-'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>is</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
a natural way of expressing the fact that one way of forming an arithmetic
expression is to put two other expressions together <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>with</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> a minus sign between them.
Unfortunately, this grammar rule does not completely specify the way that all
complex inputs should be structured. For example, if the input is <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>-</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>the</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
rule allows this input to be structured as either <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>(<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>expr</span></span><span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><o:p></o:p></span></pre>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
class=GramE><span style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'>or</span></span><span
style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'> as<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>-</span><span style='mso-spacerun:yes'>&nbsp; </span>(<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>)<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>(The first is called left association, the second <span
class=GramE>right<span style='mso-spacerun:yes'>&nbsp; </span>association</span>).<o:p></o:p></span></pre>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>Yacc</span>
detects such ambiguities when it is attempting to build<o:p></o:p></span></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
class=GramE><span style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'>the<span
style='mso-spacerun:yes'>&nbsp; </span>parser</span></span><span
style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'>.<span
style='mso-spacerun:yes'>&nbsp; </span>It is instructive to consider the
problem that confronts<o:p></o:p></span></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
class=GramE><span style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'>the</span></span><span
style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'> parser when it is
given an input such as<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>-</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>When the parser has read the second <span
class=SpellE>expr</span>, the input <span class=GramE>that<span style='mso-spacerun:yes'>&nbsp; </span>it</span><span style='mso-spacerun:yes'>&nbsp; </span>has<o:p></o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>seen</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>:<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>-</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>matches</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'> the right side of the grammar<span style='mso-spacerun:yes'>&nbsp; </span>rule<span style='mso-spacerun:yes'>&nbsp; </span>above.<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
class=GramE>The<span style='mso-spacerun:yes'>&nbsp; </span>parser</span><o:p></o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>could<span style='mso-spacerun:yes'>&nbsp; </span>reduce</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'> the input by applying this rule; after applying the<o:p></o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>rule</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>; the input is reduced to <span
class=SpellE>expr</span>(the left side<span style='mso-spacerun:yes'>&nbsp; </span>of<span style='mso-spacerun:yes'>&nbsp; </span>the<span style='mso-spacerun:yes'>&nbsp; </span>rule).<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>The parser would then read the final part of the input:<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>and</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'> again reduce.<span style='mso-spacerun:yes'>&nbsp; </span>The effect of this is to take the left associative<o:p></o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>interpretation</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>.<o:p></o:p></span></pre>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='mso-bidi-font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span>Alternatively, when the
parser has seen<o:p></o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><span style='font-size:
14.0pt;mso-bidi-font-size:12.0pt'>expr</span></span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> - <span class=SpellE>expr</span>
<o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>it</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> could defer the immediate
application of the rule, and continue reading the input until it had seen <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>-</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>It
could then apply the rule to the rightmost three symbols, reducing them to <span
class=SpellE>expr</span> and leaving <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>-</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Now
the rule can be reduced once more; the effect is to take the right associative
interpretation. Thus, having read <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>-</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>the</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
parser can do two legal things, a shift or a reduction, and has no way of
deciding between them. <span class=GramE>This is called a shift / reduce</span>
conflict. It may also happen that the parser has a choice of two legal
reductions; this is called <span class=GramE>a reduce</span> / reduce conflict.
Note that there are never any ``Shift/shift'' conflicts. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>When there are
shift/reduce or reduce/reduce conflicts, <span class=SpellE>Yacc</span> still
produces a parser. It does this by selecting one of the valid steps wherever it
has a choice. A rule describing which choice to make in a given situation is
called a disambiguating rule. <o:p></o:p></span></p>

<p><span class=SpellE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Yacc</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> invokes two disambiguating
rules by default: <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>1. In a
shift/reduce conflict, the default is to do the shift. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>2. In a
reduce/reduce conflict, the default is to reduce by the earlier grammar rule
(in the input sequence). <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Rule 1 implies that
reductions are deferred whenever there is a choice, in favor of shifts. Rule 2
gives the user rather crude control over the behavior of the parser in this
situation, but reduce/reduce conflicts should be avoided whenever possible. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Conflicts may arise
because of mistakes in input or logic, or because the grammar rules, while
consistent, require a more complex parser than <span class=SpellE>Yacc</span>
can construct. The use of actions within rules can also cause conflicts, if the
action must be done before the parser can be sure which rule is being
recognized. In these cases, the application of disambiguating rules is
inappropriate, and leads to an incorrect parser. For this reason, <span
class=SpellE>Yacc</span> always reports the number of shift/reduce and
reduce/reduce conflicts resolved by Rule 1 and Rule 2. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In general,
whenever it is possible to apply disambiguating rules to produce a correct
parser, it is also possible to rewrite the grammar rules so that the same
inputs are read but there are no conflicts. For this reason, most previous
parser generators have considered conflicts to be fatal errors. Our experience
has suggested that this rewriting is somewhat unnatural, and produces slower
parsers; thus, <span class=SpellE>Yacc</span> will produce parsers even in the
presence of conflicts. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>As an example of
the power of disambiguating rules, consider a fragment from a programming
language involving an ``if-then-else'' construction: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>stat</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp; </span>'('<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>cond</span><span style='mso-spacerun:yes'>&nbsp; </span>')'<span style='mso-spacerun:yes'>&nbsp; </span>stat<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>'</span>('<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>cond</span><span style='mso-spacerun:yes'>&nbsp; </span>')'<span style='mso-spacerun:yes'>&nbsp; </span>stat<span style='mso-spacerun:yes'>&nbsp; </span>ELSE<span style='mso-spacerun:yes'>&nbsp; </span>stat<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>;<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In these rules, IF
and ELSE are tokens, <span class=SpellE>cond</span> is a <span class=SpellE>nonterminal</span>
symbol describing conditional (logical) expressions, and stat is a <span
class=SpellE>nonterminal</span> symbol describing statements. The first rule
will be called the simple-if rule, and the second the if-else rule. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>These two rules
form an ambiguous construction, since input of the form <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp; </span>(<span style='mso-spacerun:yes'>&nbsp; </span>C1<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp; </span>(<span style='mso-spacerun:yes'>&nbsp; </span>C2<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>S1<span style='mso-spacerun:yes'>&nbsp; </span>ELSE<span style='mso-spacerun:yes'>&nbsp; </span>S2<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>can</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
be structured according to these rules in two ways: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>C1<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>C2<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>S1<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;</span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>ELSE<span style='mso-spacerun:yes'>&nbsp; </span>S2</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>or</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>C1<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>C2<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>S1<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>ELSE<span style='mso-spacerun:yes'>&nbsp; </span>S2</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The
second interpretation is the one given in most programming languages having
this construct. Each ELSE is associated with the last preceding ``un-<span
class=SpellE>ELSE'd</span>'' IF. In this example, consider the situation where
the parser has seen <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>C1<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp; </span>(<span style='mso-spacerun:yes'>&nbsp; </span>C2<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>S1<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
is looking at the ELSE. It can immediately reduce by the simple-if rule to get <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>C1<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>stat<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
then read the remaining input, <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>ELSE<span style='mso-spacerun:yes'>&nbsp; </span>S2</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
reduce <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>C1<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>stat<span style='mso-spacerun:yes'>&nbsp; </span>ELSE<span style='mso-spacerun:yes'>&nbsp; </span>S2<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>by</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
the if-else rule. This leads to the first of the above groupings of the input. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>On the other hand,
the ELSE may be shifted, S2 read, and then the right hand portion of <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp; </span>(<span style='mso-spacerun:yes'>&nbsp; </span>C1<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp; </span>(<span style='mso-spacerun:yes'>&nbsp; </span>C2<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>S1<span style='mso-spacerun:yes'>&nbsp; </span>ELSE<span style='mso-spacerun:yes'>&nbsp; </span>S2<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>can</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
be reduced by the if-else rule to get <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>C1<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>stat<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>which</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> can be reduced by the simple-if rule. This leads to the second of the
above groupings of the input, which is usually desired. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Once again the
parser can do two valid things - there is a shift/reduce conflict. The
application of disambiguating rule 1 tells the parser to shift in this case,
which leads to the desired grouping. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This shift/reduce
conflict arises only when there is a particular current input symbol, ELSE, and
particular inputs already seen, such as <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>C1<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp; </span>(<span style='mso-spacerun:yes'>&nbsp; </span>C2<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>S1<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In
general, there may be many conflicts, and each one will be associated with an
input symbol and a set of previously read inputs. The previously read inputs
are characterized by the state of the parser. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The conflict
messages of <span class=SpellE>Yacc</span> are best understood by examining the
verbose (-v) option output file. For example, the output corresponding to the
above conflict state might be: <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>23: shift/reduce
conflict (shift 45, reduce 18) on ELSE <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>state</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> 23 <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>stat
:</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> IF ( <span
class=SpellE>cond</span> ) stat_ (18) stat : IF ( <span class=SpellE>cond</span>
) <span class=SpellE>stat_ELSE</span> stat <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>ELSE shift <span
class=GramE>45 .</span> <span class=GramE>reduce</span> 18 <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The first line
describes the conflict, giving the state and the input symbol. The ordinary
state description follows, giving the grammar rules active in the state, and
the parser actions. Recall that the underline marks the portion of the grammar
rules which has been seen. Thus in the example, in state 23 the parser has seen
input corresponding to <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IF<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>cond</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>stat<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
the two grammar rules shown are active at this time. The parser can do two
possible things. If the input symbol is ELSE, it is possible to shift into
state 45. State 45 will have, as part of its description, the line <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>stat<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp; </span>(<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>cond</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>stat<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>ELSE_stat</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>since</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> the ELSE will have been shifted in this state. Back in state 23, the
alternative action, described by ``.'', is to be done if the input symbol is
not mentioned explicitly in the above actions; thus, in this case, if the input
symbol is not ELSE, the parser reduces by grammar rule 18: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>stat<span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span>IF<span style='mso-spacerun:yes'>&nbsp; </span>'('<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>cond</span><span style='mso-spacerun:yes'>&nbsp; </span>')'<span style='mso-spacerun:yes'>&nbsp; </span>stat<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Once
again, notice that the numbers following ``shift'' commands refer to other
states, while the numbers following ``reduce'' commands refer to grammar rule
numbers. In the <span class=SpellE>y.output</span> file, the rule numbers are
printed after those rules which can be reduced. In most one states, there will
be at most reduce action possible in the state, and this will be the default command.
The user who encounters unexpected shift/reduce conflicts will probably want to
look at the verbose output to decide whether the default actions are
appropriate. In really tough cases, the user might need to know more about the
behavior and construction of the parser than can be covered here. In this case,
one of the theoretical <span class=GramE>references[</span>2, 3, 4] might be
consulted; the services of a local guru might also be appropriate. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>6: Precedence <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>There is one common
situation where the rules given above for resolving conflicts are not
sufficient; this is in the parsing of arithmetic expressions. Most of the
commonly used constructions for arithmetic expressions can be naturally
described by the notion of precedence levels for operators, together with information
about left or right <span class=SpellE>associativity</span>. It turns out that
ambiguous grammars with appropriate disambiguating rules can be used to create
parsers that are faster and easier to write than parsers constructed from
unambiguous grammars. The basic notion is to write grammar rules of the form <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>OP<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>:</span><span style='mso-spacerun:yes'>&nbsp; </span>UNARY<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>for</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
all binary and unary operators desired. This creates a very ambiguous grammar,
with many parsing conflicts. As disambiguating rules, the user specifies the
precedence, or binding strength, of all the operators, and the <span
class=SpellE>associativity</span> of the binary operators. This information is
sufficient to allow <span class=SpellE>Yacc</span> to resolve the parsing
conflicts in accordance with these rules, and construct a parser that realizes
the desired <span class=SpellE>precedences</span> and <span class=SpellE>associativities</span>.
<o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The <span
class=SpellE>precedences</span> and <span class=SpellE>associativities</span>
are attached to tokens in the declarations section. This is done by a series of
lines beginning with a <span class=SpellE>Yacc</span> keyword: %left, %right,
or %<span class=SpellE>nonassoc</span>, followed by a list of tokens. All of
the tokens on the same line <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>are</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> assumed to have the same
precedence level and <span class=SpellE>associativity</span>; the lines are
listed in order of increasing precedence or binding strength. Thus, <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>+'<span style='mso-spacerun:yes'>&nbsp; </span>'-'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span>'/'<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>describes</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> the precedence and <span class=SpellE>associativity</span> of the four
arithmetic operators. Plus and minus are left associative, and have lower
precedence than star and slash, which are also left associative. The keyword
%right is used to describe right associative operators, and the keyword %<span
class=SpellE>nonassoc</span> is used to describe operators, like the operator
.LT. in <span class=GramE>Fortran</span>, that may not associate with
themselves; thus, <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>A<span style='mso-spacerun:yes'>&nbsp; </span>.</span>LT.<span style='mso-spacerun:yes'>&nbsp; </span><span
class=GramE>B<span style='mso-spacerun:yes'>&nbsp; </span>.</span>LT.<span style='mso-spacerun:yes'>&nbsp; </span>C<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>is</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
illegal in Fortran, and such an operator would be described with the keyword %<span
class=SpellE>nonassoc</span> in <span class=SpellE>Yacc</span>. As an example
of the behavior of these declarations, the description <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>right<span style='mso-spacerun:yes'>&nbsp; </span>'</span>='<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>+'<span style='mso-spacerun:yes'>&nbsp; </span>'-'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span>'/'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>'='<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>+'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>-'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>/'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>NAME<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>might</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> be used to structure the input <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>a<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>b<span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>c*d<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>e<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>f*g<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>as</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
follows: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a = <span
class=GramE>( b</span> = ( ((c*d)-e) - (f*g) ) )<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>When
this mechanism is used, unary operators must, in general, be given <span
class=GramE>a precedence</span>. Sometimes a unary operator and a binary
operator have the same symbolic representation, but different <span
class=SpellE>precedences</span>. An example is unary and binary '-'; unary
minus may be given the same strength as multiplication, or even higher, while
binary minus has a lower strength than multiplication. The keyword, %<span
class=SpellE>prec</span>, changes the precedence level associated with a
particular grammar rule. %<span class=SpellE>prec</span> appears immediately
after the body of the grammar rule, before the action or closing semicolon, and
is followed by a token name or literal. It causes the precedence of the grammar
rule to become that of the following token <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>name</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> or literal. For example, to
make unary minus have the same precedence as multiplication the rules might
resemble: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>+'<span style='mso-spacerun:yes'>&nbsp; </span>'-'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span>'/'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>'+'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>-'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>/'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'-<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>expr</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=SpellE>prec</span><span style='mso-spacerun:yes'>&nbsp; </span>'*'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>NAME<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>A token declared by
%left, %right, and %<span class=SpellE>nonassoc</span> need not be, but may be,
declared by %token as well. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The <span
class=SpellE>precedences</span> and <span class=SpellE>associativities</span>
are used by <span class=SpellE>Yacc</span> to resolve parsing conflicts; they
give rise to disambiguating rules. Formally, the rules work as follows: <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>1. The <span
class=SpellE>precedences</span> and <span class=SpellE>associativities</span>
are recorded for those tokens and literals that have them. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>2. A precedence and
<span class=SpellE>associativity</span> is associated with each grammar rule;
it is the precedence and <span class=SpellE>associativity</span> of the last
token or literal in the body of the rule. If the %<span class=SpellE>prec</span>
construction is used, it overrides this default. Some grammar rules may have no
precedence and <span class=SpellE>associativity</span> associated with them. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>3. When there is a
reduce/reduce conflict, or there is a shift/reduce conflict and either the
input symbol or the grammar rule has no precedence and <span class=SpellE>associativity</span>,
then the two disambiguating rules given at the beginning of the section are
used, and the conflicts are reported. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>4. If there is a
shift/reduce conflict, and both the grammar rule and the input character have
precedence and <span class=SpellE>associativity</span> associated with them,
then the conflict is resolved in favor of the action (shift or reduce)
associated with the higher precedence. If the <span class=SpellE>precedences</span>
are the same, then the <span class=SpellE>associativity</span> is used; left
associative implies reduce, right associative implies shift, and <span
class=SpellE>nonassociating</span> implies error. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Conflicts resolved
by precedence are not counted in the number of shift/reduce and reduce/reduce
conflicts reported by <span class=SpellE>Yacc</span>. This means that mistakes
in the specification of <span class=SpellE>precedences</span> may disguise
errors in the input grammar; it is a good idea to be sparing with <span
class=SpellE>precedences</span>, and use them in an <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>essentially</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> ``cookbook'' fashion, until
some experience has been gained. The <span class=SpellE>y.output</span> file is
very useful in deciding whether the parser is actually doing what was intended.
<o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>7: Error Handling <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Error handling is
an extremely difficult area, and many of the problems are semantic ones. When
an error is found, for example, it may be necessary to reclaim parse tree
storage, delete or alter symbol table entries, and, typically, set switches to
avoid generating any further output. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>It is seldom
acceptable to stop all processing when an error is found; it is more useful to
continue scanning the input to find further syntax errors. This leads to the
problem of getting the parser ``restarted'' after an error. A general class of
algorithms to do this involves discarding a number of tokens from the input
string, and attempting to adjust the parser so that input can continue. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>To allow the user
some control over this process, <span class=SpellE>Yacc</span> provides a
simple, but reasonably general, feature. The token name ``error'' is reserved
for error handling. This name can be used in grammar rules; in effect, it
suggests places where errors are expected, and recovery might take place. The
parser pops its stack until it enters a state where the token ``error'' is
legal. It then behaves as if the token ``error'' were the current <span
class=SpellE>lookahead</span> token, and performs the action encountered. The <span
class=SpellE>lookahead</span> token is then reset to the token that caused the
error. If no special error rules have been specified, the processing halts when
an error is detected. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In order to prevent
a cascade of error messages, the parser, after detecting an error, remains in
error state until three tokens have been successfully read and shifted. If an
error is detected when the parser is already in error state, no message is
given, and the input token is quietly deleted. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>As an example, a
rule of the form <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>stat</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>error<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>would</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>, in effect, mean that on a syntax error the parser would attempt to
skip over the statement in which the error was seen. More precisely, the parser
will scan ahead, looking for three tokens that might legally follow a
statement, and start processing at the first of these; if the beginnings of
statements are not sufficiently distinctive, it may make a false start in the
middle of a statement, and end up reporting a second error where there is in
fact no error. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Actions may be used
with these special error rules. These actions might attempt to reinitialize
tables, reclaim symbol table space, etc. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Error rules such as
the above are very general, but difficult to control. Somewhat easier are rules
such as <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>stat</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>error<span style='mso-spacerun:yes'>&nbsp; </span>';'<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Here,
when there is an error, the parser attempts to skip over the statement, but
will do so by skipping to the next ';'. All tokens after the error and before
the next ';' cannot be shifted, and are discarded. When the ';' is seen, this
rule will be reduced, and any ``cleanup'' action associated with it performed. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Another form of
error rule arises in interactive applications, where it may be desirable to
permit a line to be reentered after an error. A possible error rule might be <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>input<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>error<span style='mso-spacerun:yes'>&nbsp; </span>'\n'<span style='mso-spacerun:yes'>&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>printf</span>( &quot;Reenter last line: &quot; );<span style='mso-spacerun:yes'>&nbsp; </span>}<span style='mso-spacerun:yes'>&nbsp; </span>input<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$4;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>There
is one potential difficulty with this approach; the parser must correctly
process three input tokens before it admits that it has correctly
resynchronized after the error. If the reentered line contains an error in the
first two tokens, the parser deletes the offending tokens, and gives no
message; this is clearly unacceptable. For this reason, there is a mechanism
that can be used to force the parser to believe that an error has been fully
recovered from. The statement <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yyerrok</span></span><span class=GramE> ;</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>in</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
an action resets the parser to its normal mode. The last example is better
written <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>input</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>error<span style='mso-spacerun:yes'>&nbsp; </span>'\n'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yyerrok</span></span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>printf</span></span><span class=GramE>(</span> &quot;Reenter last line: &quot; );<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>input</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$4;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>As mentioned above,
the token seen immediately after the ``error'' symbol is the input token at
which the error was discovered. Sometimes, this is inappropriate; for example,
an error recovery action might take upon itself the job of finding the correct
place to resume input. In this case, the previous <span class=SpellE>lookahead</span>
token must be cleared. The statement <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yyclearin</span></span><span class=GramE> ;</span><o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>in</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
an action will have this effect. For example, suppose the action after error
were to call some sophisticated resynchronization routine, supplied by the
user, that attempted to advance the input to the beginning of the next valid
statement. After this routine was called, the next token returned by <span
class=SpellE>yylex</span> would <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>presumably</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> be the first token in a
legal statement; the old, illegal token must be discarded, and the error state
reset. This could be done by a rule like <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>stat</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>error<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>resynch</span></span><span class=GramE>(</span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class=SpellE><span class=GramE>yyerrok</span></span><span class=GramE> ;</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yyclearin</span></span><span class=GramE> ;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>These mechanisms
are admittedly crude, but do allow for a simple, fairly effective recovery of
the parser from many errors; moreover, the user can get control to deal with
the error actions required by other portions of the program. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>8: The <span
class=SpellE>Yacc</span> Environment <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>When the user
inputs a specification to <span class=SpellE>Yacc</span>, the output is a file
of C programs, called <span class=SpellE>y.tab.c</span> on most systems (due to
local file system conventions, the names may differ from installation to
installation). The function produced by <span class=SpellE>Yacc</span> is
called <span class=SpellE>yyparse</span>; it is an integer valued function.
When it is called, it in turn repeatedly calls <span class=SpellE>yylex</span>,
the lexical analyzer supplied by the user (see Section 3) to obtain input
tokens. Eventually, <span class=GramE>either an</span> error is detected, in
which case (if no error recovery is possible) <span class=SpellE>yyparse</span>
returns the value 1, or the lexical analyzer returns the <span class=SpellE>endmarker</span>
token and the parser accepts. In this case, <span class=SpellE>yyparse</span>
returns the value 0. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The user must
provide a certain amount of environment for this parser in order to obtain a
working program. For example, as with every C program, a program called main
must be defined, that eventually calls <span class=SpellE>yyparse</span>. In
addition, a routine called <span class=SpellE>yyerror</span> prints a message
when a syntax error is detected. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>These two routines
must be supplied in one form or another by the user. To ease the initial effort
of using <span class=SpellE>Yacc</span>, a library has been provided with
default versions of main and <span class=SpellE>yyerror</span>. The name of
this library is system dependent; on many systems the library is accessed by a
-<span class=SpellE>ly</span> argument to the loader. To show the triviality of
these default programs, the source is given below: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>main(</span>){<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span> <span class=SpellE>yyparse</span>() );<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span># include &lt;<span
class=SpellE>stdio.h</span>&gt;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yyerror</span></span><span class=GramE>(s)</span> char *s; {<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>fprintf</span></span><span class=GramE>(</span> <span
class=SpellE>stderr</span>, &quot;%s\n&quot;, s );<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The
argument to <span class=SpellE>yyerror</span> is a string containing an error
message, usually the string ``syntax error''. The average application will want
to do better than this. Ordinarily, the program should keep track of the input
line number, and print it along with the message when a syntax error is
detected. The external integer variable <span class=SpellE>yychar</span>
contains the <span class=SpellE>lookahead</span> token number at the time the
error was detected; this may be of some interest in giving better diagnostics.
Since the main program is probably supplied by the user (to read arguments,
etc.) the <span class=SpellE>Yacc</span> library is useful only in small
projects, or in the earliest stages of larger ones. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The external
integer variable <span class=SpellE>yydebug</span> is normally set to 0. If it
is set to a nonzero value, the parser will output a verbose description of its
actions, including a discussion of which input symbols have been read, and what
the parser actions are. Depending on the operating environment, it may be
possible to set this variable by using a debugging system. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>9: Hints for
Preparing Specifications <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This section
contains miscellaneous hints on preparing efficient, easy to change, and clear
specifications. The individual subsections are more or less independent. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Input Style <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>It is difficult to
provide rules with substantial actions and still have a readable specification
file. The following style hints owe much to Brian Kernighan. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>a. Use all capital
letters for token names, all lower case letters for <span class=SpellE>nonterminal</span>
names. This rule comes under the heading of ``knowing who to blame when things
go wrong.'' <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>b. Put grammar
rules and actions on separate lines. This allows either to be changed without
an automatic need to change the other. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>c. Put all rules
with the same left hand side together. Put the left hand side in only once, and
let all following rules begin with a vertical bar. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>d. Put a semicolon
only after the last rule with a given left hand side, and put the semicolon on
a separate line. This allows new rules to be easily added. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>e. Indent rule
bodies by two tab stops, and action bodies by three tab stops. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The example in
Appendix A is written following this style, as are the examples in the text of
this paper (where space permits). The user must make up his own mind about
these stylistic questions; the central problem, however, is to make the rules
visible through the morass of action code. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Left Recursion <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The algorithm used
by the <span class=SpellE>Yacc</span> parser encourages so called ``left
recursive'' grammar rules: rules of the form <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>name</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>name<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>rest_of_rule</span><span style='mso-spacerun:yes'>&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>These
rules frequently arise when writing specifications of sequences and lists: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>list</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>item<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>list<span style='mso-spacerun:yes'>&nbsp; </span>'</span>,'<span style='mso-spacerun:yes'>&nbsp; </span>item<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>seq</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>item<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>seq</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>item</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In
each of these cases, the first rule will be reduced for the first item only,
and the second rule will be reduced for the second and all succeeding items. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>With right
recursive rules, such as <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>seq</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>item<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>item<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>seq</span></span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>the</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
parser would be a bit bigger, and the items would be seen, and reduced, from
right to left. More seriously, an internal stack in the parser would be in
danger of overflowing if a very long sequence were read. Thus, the user should
use left recursion wherever reasonable. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>It is worth
considering whether a sequence with zero elements has any meaning, and if so, <span
class=GramE>consider</span> writing the sequence specification with an empty
rule: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>seq</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* empty */<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>seq</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>item</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Once
again, the first rule would always be reduced exactly once, before the first
item was read, and then the second rule would be reduced once for each item
read. Permitting empty sequences often leads to increased generality. However,
conflicts might arise if <span class=SpellE>Yacc</span> is asked to decide
which empty sequence it has seen, when it hasn't seen enough to know! <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Lexical Tie-ins <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Some lexical
decisions depend on context. For example, the <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>lexical</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> analyzer might want to
delete blanks normally, but not within quoted strings. Or names might be
entered into a symbol table in declarations, but not in expressions. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>One way of handling
this situation is to create a global flag that is examined by the lexical
analyzer, and set by actions. For example, suppose a program consists of 0 or
more declarations, followed by 0 or more statements. Consider: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>int</span></span> <span class=SpellE>dflag</span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...<span style='mso-spacerun:yes'>&nbsp; </span><span
class=GramE>other</span> declarations ...<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>prog</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>decls</span><span style='mso-spacerun:yes'>&nbsp; </span>stats<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>decls</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* empty */<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dflag</span></span> = 1;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>decls</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>declaration</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>stats</span><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* empty */<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dflag</span></span> = 0;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>stats<span style='mso-spacerun:yes'>&nbsp; </span>statement</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<span style='mso-spacerun:yes'>&nbsp; </span><span
class=GramE>other</span> rules ...<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The
flag <span class=SpellE>dflag</span> is now 0 when reading statements, and 1
when reading declarations, except for the first token in the first statement.
This token must be seen by the parser before it can tell that the declaration
section has ended and the statements have begun. In many cases, this single
token exception does not affect the lexical scan. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This kind of
``backdoor'' approach can be elaborated to a noxious degree. Nevertheless, it
represents a way of doing some things that are difficult, if not impossible, to
do otherwise. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Reserved Words <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Some programming
languages permit the user to use words like ``if'', which are normally
reserved, as label or variable names, provided that such use does not conflict
with the legal use of these names in the programming language. This is
extremely hard to do in the framework of <span class=SpellE>Yacc</span>; it is
difficult to pass information to the lexical analyzer telling it ``this
instance of `if' is a keyword, and that instance is a variable''. The user can
make a stab at it, using the mechanism described in the last subsection, but it
is difficult. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>A number of ways of
making this easier are under advisement. Until then, it is better that the
keywords be reserved; that is, be forbidden for use as variable names. There
are powerful stylistic reasons for preferring this, anyway. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>10: Advanced Topics
<o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This section
discusses a number of advanced features of <span class=SpellE>Yacc</span>. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Simulating Error
and Accept in Actions <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The parsing actions
of error and accept can be simulated in an action by use of macros YYACCEPT and
YYERROR. YYACCEPT causes <span class=SpellE>yyparse</span> to return the value
0; YYERROR causes the parser to behave as if the current input symbol had been
a syntax error; <span class=SpellE>yyerror</span> is called, and error recovery
takes place. These mechanisms can be used to simulate parsers with multiple <span
class=SpellE>endmarkers</span> or context-sensitive syntax checking. <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Accessing
Values in Enclosing Rules.</span></span><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt'> <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>An action may refer
to values returned by actions to the left of the current rule. The mechanism is
simply the same as with ordinary actions, a dollar sign followed by a digit,
but in this case the digit may be 0 or negative. Consider <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>sent</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>adj</span><span style='mso-spacerun:yes'>&nbsp; </span>noun<span style='mso-spacerun:yes'>&nbsp; </span>verb<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>adj</span><span style='mso-spacerun:yes'>&nbsp; </span>noun<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>{<span style='mso-spacerun:yes'>&nbsp; </span>look</span> at the sentence . . .<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>adj</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>THE<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$ = THE;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>YOUNG<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$ = YOUNG<span
class=GramE>;<span style='mso-spacerun:yes'>&nbsp; </span>}</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>. . .<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>noun</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DOG<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$ = DOG<span
class=GramE>;<span style='mso-spacerun:yes'>&nbsp; </span>}</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>CRONE<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span> $0 == YOUNG ){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>printf</span></span><span class=GramE>(</span> &quot;what?\n&quot; );<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$ = CRONE;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>. . .<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In
the action following the word CRONE, a check is made that the preceding token
shifted was not YOUNG. Obviously, this is only possible when a great deal is
known about what might precede the symbol noun in the input. There is also a
distinctly unstructured flavor about this. Nevertheless, at times this mechanism
will save a great deal of trouble, especially when a few combinations are to be
excluded from an otherwise regular structure. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Support for
Arbitrary Value Types <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>By default, the
values returned by actions and the lexical analyzer are integers. <span
class=SpellE>Yacc</span> can also support values of other types, including
structures. In addition, <span class=SpellE>Yacc</span> keeps track of the
types, and inserts appropriate union member names so that the resulting parser
will be strictly type checked. The <span class=SpellE>Yacc</span> value stack
(see Section 4) is declared to be a union of the various types of values
desired. The user declares the union, and associates union member names to each
token and <span class=SpellE>nonterminal</span> symbol having a value. When the
value is referenced through a $$ or $n construction, <span class=SpellE>Yacc</span>
will automatically insert the appropriate union name, so that no unwanted
conversions will take place. In addition, type checking commands such as <span
class=GramE>Lint[</span>5] will be far more silent. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>There are three
mechanisms used to provide for this typing. First, there is a way of defining
the union; this must be done by the user since other programs, notably the
lexical analyzer, must know about the union member names. Second, there is a
way of associating a union member name with tokens and <span class=SpellE>nonterminals</span>.
Finally, there is a mechanism for describing the type of those few values where
<span class=SpellE>Yacc</span> can not easily determine the type. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>To declare the
union, the user includes in the declaration section: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>union<span style='mso-spacerun:yes'>&nbsp; </span>{</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>body</span> of union ...<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This
declares the <span class=SpellE>Yacc</span> value stack, and the external
variables <span class=SpellE>yylval</span> and <span class=SpellE>yyval</span>,
to have type equal to this union. If <span class=SpellE>Yacc</span> was invoked
with the -d option, the union declaration is copied onto the <span
class=SpellE>y.tab.h</span> file. Alternatively, the union may be declared in a
header file, and a <span class=SpellE>typedef</span> used to define the
variable YYSTYPE to represent this union. Thus, the header file might also have
said: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>typedef</span></span> union {<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>body</span> of union ...<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} YYSTYPE;<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The
header file must be included in the declarations section, by use of %{ and %}. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Once YYSTYPE is
defined, the union member names must be associated with the various terminal
and <span class=SpellE>nonterminal</span> names. The construction <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt; <span
class=GramE>name</span> &gt;<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>is</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
used to indicate a union member name. If this follows one of the keywords
%token, %left, %right, and %<span class=SpellE>nonassoc</span>, the union <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>member</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> name is associated with the
tokens listed. Thus, saying <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>&lt;</span><span
class=SpellE>optype</span>&gt;<span style='mso-spacerun:yes'>&nbsp; </span>'+'<span style='mso-spacerun:yes'>&nbsp; </span>'-'<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>will</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> cause any reference to values returned by these two tokens to be
tagged with the union member name <span class=SpellE>optype</span>. Another
keyword, %type, is used similarly to associate union member names with <span
class=SpellE>nonterminals</span>. Thus, one might say <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=GramE>type<span style='mso-spacerun:yes'>&nbsp; </span>&lt;</span><span
class=SpellE>nodetype</span>&gt;<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>stat<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>There remain a
couple of cases where these mechanisms are insufficient. If there is an action
within a rule, the value returned by this action has no a priori type.
Similarly, reference to left context values (such as $0 - see the previous
subsection) leaves <span class=SpellE>Yacc</span> with no easy way of knowing
the type. In this case, a type can be imposed on the reference by inserting a
union member name, between &lt; and &gt;, immediately after the first $. An
example of this usage is <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>rule</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>aaa</span><span style='mso-spacerun:yes'>&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp; </span>$&lt;<span
class=SpellE>intval</span>&gt;$<span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>3;<span style='mso-spacerun:yes'>&nbsp; </span>} <span
class=SpellE>bbb</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>fun(</span> $&lt;<span class=SpellE>intval</span>&gt;2, $&lt;other&gt;0 );<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This
syntax has little to recommend it, but the situation arises rarely. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>A sample
specification is given in Appendix C. The facilities in this subsection are not
triggered until they are used: in particular, the use of %type will turn on
these mechanisms. When they are used, there is a fairly strict level of
checking. For example, use of $n or $$ to refer to something with no defined
type is diagnosed. If these facilities are not triggered, the <span
class=SpellE>Yacc</span> value stack is used to hold <span class=SpellE>int's</span>,
as was true historically. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>11:
Acknowledgements <o:p></o:p></span></p>

<p><span class=SpellE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Yacc</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> owes much to a most
stimulating collection of users, who have goaded me beyond my inclination, and
frequently beyond my ability, in their endless search for ``one more feature''.
Their irritating unwillingness to learn how to do things my way has usually led
to my doing things their way; most of the time, they have been right. B. W.
Kernighan, P. J. <span class=SpellE>Plauger</span>, S. I. Feldman, C. <span
class=SpellE>Imagna</span>, M. E. <span class=SpellE>Lesk</span>, and A. Snyder
will recognize some of their ideas in the current version of <span
class=SpellE>Yacc</span>. C. B. Haley contributed to the error recovery
algorithm. D. M. Ritchie, B. W. Kernighan, and M. O. Harris helped translate
this document into English. Al <span class=SpellE>Aho</span> also deserves
special credit for bringing the mountain to Mohammed, and other favors. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>References <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>1. B. W. Kernighan
and D. M. Ritchie, <span class=GramE>The</span> C Programming Language,
Prentice-Hall, </span><st1:City><st1:place><span style='font-size:14.0pt;
  mso-bidi-font-size:12.0pt'>Englewood</span></st1:place></st1:City><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> Cliffs, </span><st1:State><st1:place><span
  style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>New Jersey</span></st1:place></st1:State><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>, 1978. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>2. A. V. <span
class=SpellE>Aho</span> and S. C. Johnson, &quot;LR Parsing,&quot; Comp.
Surveys, vol. 6, no. 2, pp. 99-124, June 1974. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>3. A. V. <span
class=SpellE>Aho</span>, S. C. Johnson, and J. D. <span class=SpellE>Ullman</span>,
&quot;Deterministic Parsing of Ambiguous Grammars,&quot; Comm. Assoc. Comp.
Mach., vol. 18, no. 8, pp. 441-452, August 1975. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>4. A. V. <span
class=SpellE>Aho</span> and J. D. <span class=SpellE>Ullman</span>, Principles
of Compiler Design, Addison-Wesley, </span><st1:place><st1:City><span
  style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Reading</span></st1:City><span
 style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>, </span><st1:State><span
  style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Mass.</span></st1:State></st1:place><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>, 1977. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>5. S. C. Johnson,
&quot;Lint, a C Program Checker,&quot; Comp. <span class=SpellE>Sci</span>.
Tech. Rep. No. 65, <span class=GramE>1978 .</span>]. <span class=GramE>updated</span>
version TM 78-1273-3 <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>6. S. C. Johnson,
&quot;A Portable Compiler: Theory and Practice,&quot; Proc. 5th ACM <span
class=SpellE>Symp</span>. <span class=GramE>on</span> Principles of Programming
Languages, pp. 97-104, January 1978. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>7. B. W. Kernighan
and L. L. Cherry, &quot;A System for Typesetting Mathematics,&quot; Comm.
Assoc. Comp. Mach., vol. 18, pp. 151-157, Bell Laboratories, Murray Hill, New
Jersey, March 1975 .]. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>8. M. E. <span
class=SpellE>Lesk</span>, &quot;<span class=SpellE>Lex</span> - A Lexical
Analyzer Generator,&quot; Comp. <span class=SpellE>Sci</span>. Tech. Rep. No.
39, </span><st1:City><st1:place><span style='font-size:14.0pt;mso-bidi-font-size:
  12.0pt'>Bell</span></st1:place></st1:City><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt'> Laboratories, </span><st1:place><st1:City><span
  style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Murray Hill</span></st1:City><span
 style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>, </span><st1:State><span
  style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>New Jersey</span></st1:State></st1:place><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>, October <span class=GramE>1975
.</span>]. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Appendix A: A
Simple Example <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This example gives
the complete <span class=SpellE>Yacc</span> specification for a small desk
calculator; the desk calculator has 26 registers, labeled ``a'' through ``z'',
and accepts arithmetic expressions made up of the operators +, -, *, /, % (mod
operator), &amp; (bitwise and), | (bitwise or), and assignment. If an
expression at the top level is an assignment, the value is not printed;
otherwise it is. As in C, an integer that begins with 0 (zero) is assumed to be
octal; otherwise, it is assumed to be decimal. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>As an example of a <span
class=SpellE>Yacc</span> specification, the desk calculator does a reasonable
job of showing how <span class=SpellE>precedences</span> and ambiguities are
used, and demonstrating simple error recovery. The major oversimplifications
are that the lexical analysis phase is much simpler than for most applications,
and the output is produced immediately, line by line. Note the way that decimal
and octal integers are read in by the grammar rules; <span class=GramE>This</span>
job is probably better done by the lexical analyzer. <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%{<o:p></o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>#<span style='mso-spacerun:yes'>&nbsp; </span>include</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>&lt;<span
class=SpellE>stdio.h</span>&gt;<o:p></o:p></span></pre><pre><span class=GramE><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>#<span style='mso-spacerun:yes'>&nbsp; </span>include</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>&lt;<span
class=SpellE>ctype.h</span>&gt;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>int</span></span></span><span class=GramE><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>regs</span></span></span><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>[26];<o:p></o:p></span></pre><pre><span class=SpellE><span class=GramE><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>int</span></span></span><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>base</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>start<span style='mso-spacerun:yes'>&nbsp; </span>list</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>token<span style='mso-spacerun:yes'>&nbsp; </span>DIGIT</span><span style='mso-spacerun:yes'>&nbsp; </span>LETTER<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>|'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>&amp;'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>+'<span style='mso-spacerun:yes'>&nbsp; </span>'-'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span>'/'<span style='mso-spacerun:yes'>&nbsp; </span>'%'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>left<span style='mso-spacerun:yes'>&nbsp; </span>UMINUS</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>supplies<span style='mso-spacerun:yes'>&nbsp; </span>precedence<span style='mso-spacerun:yes'>&nbsp; </span>for <span style='mso-spacerun:yes'>&nbsp;</span>unary<span style='mso-spacerun:yes'>&nbsp; </span>minus<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%%<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>beginning</span><span style='mso-spacerun:yes'>&nbsp; </span>of<span style='mso-spacerun:yes'>&nbsp; </span>rules<span style='mso-spacerun:yes'>&nbsp; </span>section<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>list :</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>empty<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=GramE>list<span style='mso-spacerun:yes'>&nbsp; </span>stat</span><span style='mso-spacerun:yes'>&nbsp; </span>'\n'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=GramE>list<span style='mso-spacerun:yes'>&nbsp; </span>error</span><span style='mso-spacerun:yes'>&nbsp; </span>'\n'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yyerrok</span></span>;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>stat :</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>printf</span></span><span class=GramE>(</span> &quot;%d\n&quot;, $1 );<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=GramE>LETTER<span style='mso-spacerun:yes'>&nbsp; </span>'</span>='<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>regs</span></span><span class=GramE>[</span>$1]<span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>expr</span></span></span><span class=GramE><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'> :</span></span><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>'('<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><span style='mso-spacerun:yes'>&nbsp; </span>')'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$2;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>+'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>+<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>-'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>*<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>/'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>/<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>%'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>%<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>&amp;'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>&amp;<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>expr</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>|'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>expr</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>'-<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>expr</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=SpellE>prec</span><span style='mso-spacerun:yes'>&nbsp; </span>UMINUS<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>$2;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>LETTER<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>regs</span>[$1];<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=GramE>number</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>number</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>DIGIT<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$$ = $1;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=GramE>base<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>($1==0)<span style='mso-spacerun:yes'>&nbsp; </span>?<span style='mso-spacerun:yes'>&nbsp; </span></span><st1:time
Minute="10" Hour="8"><span class=GramE><span style='font-size:12.0pt;
 mso-bidi-font-size:10.0pt'>8<span style='mso-spacerun:yes'>&nbsp; </span>:</span></span><span
 style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>10</span></st1:time><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=GramE>number<span style='mso-spacerun:yes'>&nbsp; </span>DIGIT</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>base * $1<span style='mso-spacerun:yes'>&nbsp; </span>+<span style='mso-spacerun:yes'>&nbsp; </span>$2;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%%<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>start</span><span style='mso-spacerun:yes'>&nbsp; </span>of<span style='mso-spacerun:yes'>&nbsp; </span>programs<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>yylex</span></span></span><span class=GramE><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'>(</span></span><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'>) {<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>lexical<span style='mso-spacerun:yes'>&nbsp; </span>analysis<span style='mso-spacerun:yes'>&nbsp; </span>routine<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>returns<span style='mso-spacerun:yes'>&nbsp; </span>LETTER<span style='mso-spacerun:yes'>&nbsp; </span>for<span style='mso-spacerun:yes'>&nbsp; </span>a<span style='mso-spacerun:yes'>&nbsp; </span>lower<span style='mso-spacerun:yes'>&nbsp; </span>case<span style='mso-spacerun:yes'>&nbsp; </span>letter,<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>yylval</span> = 0<span style='mso-spacerun:yes'>&nbsp; </span>through<span style='mso-spacerun:yes'>&nbsp; </span>25<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>return</span><span style='mso-spacerun:yes'>&nbsp; </span>DIGIT<span style='mso-spacerun:yes'>&nbsp; </span>for<span style='mso-spacerun:yes'>&nbsp; </span>a<span style='mso-spacerun:yes'>&nbsp; </span>digit,<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>yylval</span> = 0<span style='mso-spacerun:yes'>&nbsp; </span>through<span style='mso-spacerun:yes'>&nbsp; </span>9<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>all</span><span style='mso-spacerun:yes'>&nbsp; </span>other<span style='mso-spacerun:yes'>&nbsp; </span>characters<span style='mso-spacerun:yes'>&nbsp; </span>are<span style='mso-spacerun:yes'>&nbsp; </span>returned<span style='mso-spacerun:yes'>&nbsp; </span>immediately<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>int</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>c</span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>while(<span style='mso-spacerun:yes'>&nbsp; </span>(c=<span
class=SpellE>getchar</span>())<span style='mso-spacerun:yes'>&nbsp; </span>==<span style='mso-spacerun:yes'>&nbsp; </span>' <span
class=SpellE>'</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>{/*<span style='mso-spacerun:yes'>&nbsp; </span>skip<span style='mso-spacerun:yes'>&nbsp; </span>blanks<span style='mso-spacerun:yes'>&nbsp; </span>*/<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>c</span><span style='mso-spacerun:yes'>&nbsp; </span>is<span style='mso-spacerun:yes'>&nbsp; </span>now<span style='mso-spacerun:yes'>&nbsp; </span>nonblank<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>islower</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yylval</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>'a';<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return<span style='mso-spacerun:yes'>&nbsp; </span>(</span><span style='mso-spacerun:yes'>&nbsp; </span>LETTER<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>isdigit</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yylval</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>'0';<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span><span style='mso-spacerun:yes'>&nbsp; </span>DIGIT<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Appendix
B: <span class=SpellE>Yacc</span> Input Syntax <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This Appendix has a
description of the <span class=SpellE>Yacc</span> input syntax, as a <span
class=SpellE>Yacc</span> specification. Context dependencies, etc., are not
considered. Ironically, the <span class=SpellE>Yacc</span> input specification
language is most naturally specified as an <span class=GramE>LR(</span>2)
grammar; the sticky part comes when an identifier is seen in a rule,
immediately following an action. If this identifier is followed by a colon, it
is the start of the next rule; otherwise it is a continuation of the current
rule, which just happens to have an action embedded in it. As implemented, the
lexical <span class=GramE>analyzer looks ahead after seeing an identifier, and
decide</span> whether the next token (skipping blanks, <span class=SpellE>newlines</span>,
comments, etc.) is a colon. If so, it returns the token C_IDENTIFIER.
Otherwise, it returns IDENTIFIER. Literals (quoted strings) are also returned
as IDENTIFIERS, but never as part of <span class=SpellE>C_IDENTIFIERs</span>. <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>grammar</span><span style='mso-spacerun:yes'>&nbsp; </span>for<span style='mso-spacerun:yes'>&nbsp; </span>the<span style='mso-spacerun:yes'>&nbsp; </span>input<span style='mso-spacerun:yes'>&nbsp; </span>to<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>Yacc</span><span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>basic</span><span style='mso-spacerun:yes'>&nbsp; </span>entities<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%token<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IDENTIFIER<span style='mso-spacerun:yes'>&nbsp; </span>/</span>*<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>includes<span style='mso-spacerun:yes'>&nbsp; </span>identifiers<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>and<span style='mso-spacerun:yes'>&nbsp; </span>literals<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%token<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C_IDENTIFIER<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=GramE>identifier<span style='mso-spacerun:yes'>&nbsp; </span>(</span>but<span style='mso-spacerun:yes'>&nbsp; </span>not<span style='mso-spacerun:yes'>&nbsp; </span>literal)<span style='mso-spacerun:yes'>&nbsp; </span>followed<span style='mso-spacerun:yes'>&nbsp; </span>by<span style='mso-spacerun:yes'>&nbsp; </span>colon<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%token<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>NUMBER<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>[0-9<span
class=GramE>]+</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>reserved<span style='mso-spacerun:yes'>&nbsp; </span>words:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>%type<span style='mso-spacerun:yes'>&nbsp; </span>=&gt;<span style='mso-spacerun:yes'>&nbsp; </span>TYPE,<span style='mso-spacerun:yes'>&nbsp; </span>%left<span style='mso-spacerun:yes'>&nbsp; </span>=&gt;<span style='mso-spacerun:yes'>&nbsp; </span>LEFT,<span style='mso-spacerun:yes'>&nbsp; </span>etc.<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%token<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>LEFT<span style='mso-spacerun:yes'>&nbsp; </span>RIGHT</span><span style='mso-spacerun:yes'>&nbsp; </span>NONASSOC<span style='mso-spacerun:yes'>&nbsp; </span>TOKEN<span style='mso-spacerun:yes'>&nbsp; </span>PREC<span style='mso-spacerun:yes'>&nbsp; </span>TYPE<span style='mso-spacerun:yes'>&nbsp; </span>START<span style='mso-spacerun:yes'>&nbsp; </span>UNION<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%token<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>MARK<span style='mso-spacerun:yes'>&nbsp; </span>/</span>*<span style='mso-spacerun:yes'>&nbsp; </span>the<span style='mso-spacerun:yes'>&nbsp; </span>%%<span style='mso-spacerun:yes'>&nbsp; </span>mark<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%token<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCURL /<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>the</span><span style='mso-spacerun:yes'>&nbsp; </span>%{<span style='mso-spacerun:yes'>&nbsp; </span>mark<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%token<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RCURL /<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>the</span><span style='mso-spacerun:yes'>&nbsp; </span>%}<span style='mso-spacerun:yes'>&nbsp; </span>mark<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>ascii</span></span><span style='mso-spacerun:yes'>&nbsp; </span>character<span style='mso-spacerun:yes'>&nbsp; </span>literals<span style='mso-spacerun:yes'>&nbsp; </span>stand<span style='mso-spacerun:yes'>&nbsp; </span>for<span style='mso-spacerun:yes'>&nbsp; </span>themselves<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%start<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>spec<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>spec<span style='mso-spacerun:yes'>&nbsp; </span>:</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>defs</span><span style='mso-spacerun:yes'>&nbsp; </span>MARK<span style='mso-spacerun:yes'>&nbsp; </span>rules<span style='mso-spacerun:yes'>&nbsp; </span>tail<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>tail<span style='mso-spacerun:yes'>&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>MARK<span style='mso-spacerun:yes'>&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>In<span style='mso-spacerun:yes'>&nbsp; </span>this<span style='mso-spacerun:yes'>&nbsp; </span>action,<span style='mso-spacerun:yes'>&nbsp; </span>eat<span style='mso-spacerun:yes'>&nbsp; </span>up<span style='mso-spacerun:yes'>&nbsp; </span>the<span style='mso-spacerun:yes'>&nbsp; </span>rest<span style='mso-spacerun:yes'>&nbsp; </span>of<span style='mso-spacerun:yes'>&nbsp; </span>the<span style='mso-spacerun:yes'>&nbsp; </span>file<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>empty</span>:<span style='mso-spacerun:yes'>&nbsp; </span>the<span style='mso-spacerun:yes'>&nbsp; </span>second<span style='mso-spacerun:yes'>&nbsp; </span>MARK<span style='mso-spacerun:yes'>&nbsp; </span>is<span style='mso-spacerun:yes'>&nbsp; </span>optional<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>defs</span></span></span><span class=GramE><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>:</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>empty<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>defs</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>def</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>def</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>START<span style='mso-spacerun:yes'>&nbsp; </span>IDENTIFIER<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><st1:place><span
 class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>UNION</span></span></st1:place><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>{</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>Copy union<span style='mso-spacerun:yes'>&nbsp; </span>definition<span style='mso-spacerun:yes'>&nbsp; </span>to<span style='mso-spacerun:yes'>&nbsp; </span>output<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>LCURL<span style='mso-spacerun:yes'>&nbsp; </span>{</span><span style='mso-spacerun:yes'>&nbsp; </span>Copy<span style='mso-spacerun:yes'>&nbsp; </span>C<span style='mso-spacerun:yes'>&nbsp; </span>code<span style='mso-spacerun:yes'>&nbsp; </span>to<span style='mso-spacerun:yes'>&nbsp; </span>output<span style='mso-spacerun:yes'>&nbsp; </span>file<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>}<span style='mso-spacerun:yes'>&nbsp; </span>RCURL<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>ndefs</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>rword</span></span><span style='mso-spacerun:yes'>&nbsp; </span>tag<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>nlist</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>rword</span></span></span><span class=GramE><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'> :</span></span><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>TOKEN<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>LEFT<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>RIGHT<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>NONASSOC<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>TYPE<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>tag</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>empty:<span style='mso-spacerun:yes'>&nbsp; </span>union<span style='mso-spacerun:yes'>&nbsp; </span>tag<span style='mso-spacerun:yes'>&nbsp; </span>is<span style='mso-spacerun:yes'>&nbsp; </span>optional<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>'&lt;<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span>IDENTIFIER</span><span style='mso-spacerun:yes'>&nbsp; </span>'&gt;'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>nlist</span></span></span><span class=GramE><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'> :</span></span><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>nmno</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span><span
class=SpellE><span class=GramE>nlist</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>nmno</span></span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>nlist</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>,'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>nmno</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>nmno</span></span></span><span class=GramE><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>:</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>IDENTIFIER<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>NOTE:<span style='mso-spacerun:yes'>&nbsp; </span>literal<span style='mso-spacerun:yes'>&nbsp; </span>illegal<span style='mso-spacerun:yes'>&nbsp; </span>with<span style='mso-spacerun:yes'>&nbsp; </span>%type<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>IDENTIFIER<span style='mso-spacerun:yes'>&nbsp; </span>NUMBER</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>NOTE:<span style='mso-spacerun:yes'>&nbsp; </span>illegal<span style='mso-spacerun:yes'>&nbsp; </span>with<span style='mso-spacerun:yes'>&nbsp; </span>%type<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>rules</span><span style='mso-spacerun:yes'>&nbsp; </span>section<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>rules :</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>C_IDENTIFIER<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>rbody</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>prec</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>rules<span style='mso-spacerun:yes'>&nbsp; </span>rule</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>rule<span style='mso-spacerun:yes'>&nbsp; </span>:</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>C_IDENTIFIER<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>rbody</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>prec</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>'|<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>rbody</span></span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>prec</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>rbody</span></span></span><span class=GramE><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'> :</span></span><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>empty<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>rbody</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>IDENTIFIER</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>rbody</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>act</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>act</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>'{'<span style='mso-spacerun:yes'>&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp; </span>Copy<span style='mso-spacerun:yes'>&nbsp; </span>action,<span style='mso-spacerun:yes'>&nbsp; </span>translate<span style='mso-spacerun:yes'>&nbsp; </span>$$,<span style='mso-spacerun:yes'>&nbsp; </span>etc.<span style='mso-spacerun:yes'>&nbsp; </span>}<span style='mso-spacerun:yes'>&nbsp; </span>'}'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>prec</span></span></span><span class=GramE><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>:</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>empty<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>PREC<span style='mso-spacerun:yes'>&nbsp; </span>IDENTIFIER</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>PREC<span style='mso-spacerun:yes'>&nbsp; </span>IDENTIFIER</span><span style='mso-spacerun:yes'>&nbsp; </span>act<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>prec</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>;'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Appendix C: An
Advanced Example <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This Appendix gives
an example of a grammar using some of the advanced features discussed in
Section 10. The desk calculator example in Appendix A is modified to provide a
desk calculator that does floating point interval arithmetic. The calculator
understands floating point constants, the arithmetic operations +, -, *, /,
unary -, and = (assignment), and has 26 floating point variables, ``a'' through
``z''. Moreover, it also understands intervals, written <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>( x</span> , y )<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>where</span></span><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'> x is less than or equal to y. There are 26 interval valued variables
``A'' through ``Z'' that may also be used. The usage is similar to that in
Appendix A; assignments return no value, and print nothing, while expressions
print the (floating or interval) value. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This example
explores a number of interesting features of <span class=SpellE>Yacc</span> and
C. Intervals are represented by a structure, consisting of the left and right
endpoint values, stored as <span class=GramE>double's</span>. This structure is
given a type name, INTERVAL, by using <span class=SpellE>typedef</span>. The <span
class=SpellE>Yacc</span> value stack can also contain floating point scalars,
and integers (used to index into the arrays holding the variable values).
Notice that this entire strategy depends strongly on being able to assign
structures and unions in C. In fact, many of the actions call functions that
return structures as well. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>It is also worth noting
the use of YYERROR to handle error conditions: division by an interval
containing 0, and an interval presented in the wrong order. In effect, the
error recovery mechanism of <span class=SpellE>Yacc</span> is used to throw
away the rest of the offending line. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>In addition to the
mixing of types on the value stack, this grammar also demonstrates an
interesting use of syntax to keep track of the type (e.g. scalar or interval)
of intermediate expressions. Note that a scalar can be automatically promoted
to an interval if the context demands an interval value. This causes a large
number of conflicts when the grammar is run through <span class=SpellE>Yacc</span>:
18 Shift/Reduce and 26 Reduce/Reduce. The problem can be seen by looking at the
two input lines: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2.5 + <span
class=GramE>( 3.5</span> - 4. )<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
<o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>2.5 + <span
class=GramE>( 3.5</span> , 4. )<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Notice
that the 2.5 is to be used in an interval valued expression in the second
example, but this fact is not known until the ``,'' is read; by this time, 2.5
is finished, and the parser cannot go back and change its mind. More generally,
it might be <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>necessary</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'> to look ahead an arbitrary
number of tokens to decide whether to convert a scalar to an interval. This
problem is evaded by having two rules for each binary interval valued operator:
one when the left operand is a <span class=GramE>scalar,</span> and one when
the left operand is an interval. In the second case, the right operand must be
an interval, so the conversion will be applied automatically. Despite this
evasion, there are still many cases where the conversion may be applied or not,
leading to the above conflicts. They are resolved by listing the rules that
yield scalars first in the specification file; in this way, the conflicts will
be resolved in the direction of keeping scalar valued expressions scalar valued
until they are forced to become intervals. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This way of
handling multiple types is very instructive, but not very general. If there
were many kinds of expression types, instead of just two, the number of rules
needed would increase dramatically, and the conflicts even more dramatically.
Thus, while this example is instructive, it is better practice in a more normal
programming language environment to keep the type information as part of the
value, and not as part of the grammar. <o:p></o:p></span></p>

<p><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Finally,
a word about the lexical analysis.</span></span><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt'> The only unusual feature is the treatment of
floating point constants. The C library routine <span class=SpellE>atof</span>
is used to do the actual conversion from a character string to a double
precision value. If the lexical analyzer detects an error, it responds by
returning a token that is illegal in the grammar, provoking a syntax error in
the parser, and thence error recovery. <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>#<span style='mso-spacerun:yes'>&nbsp; </span>include</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>&lt;<span
class=SpellE>stdio.h</span>&gt;<o:p></o:p></span></pre><pre><span class=GramE><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>#<span style='mso-spacerun:yes'>&nbsp; </span>include</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>&lt;<span
class=SpellE>ctype.h</span>&gt;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>typedef</span></span></span><span class=GramE><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>struct</span></span></span><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>interval<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>double<span style='mso-spacerun:yes'>&nbsp; </span>lo</span>,<span style='mso-spacerun:yes'>&nbsp; </span>hi;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>}<span style='mso-spacerun:yes'>&nbsp; </span>INTERVAL</span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vmul</span></span></span><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>(),<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>vdiv</span>();<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>double<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>atof</span></span></span><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>();<o:p></o:p></span></pre><pre><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>double<span style='mso-spacerun:yes'>&nbsp; </span>dreg</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>[ 26 ];<o:p></o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vreg</span></span></span><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>[ 26 ];<o:p></o:p></span></pre><pre><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%start<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>lines<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%union<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>int</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>ival</span></span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>double<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dval</span></span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vval</span></span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>token<span style='mso-spacerun:yes'>&nbsp; </span>&lt;</span><span
class=SpellE>ival</span>&gt;<span style='mso-spacerun:yes'>&nbsp; </span>DREG<span style='mso-spacerun:yes'>&nbsp; </span>VREG<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>indices<span style='mso-spacerun:yes'>&nbsp; </span>into<span style='mso-spacerun:yes'>&nbsp; </span>dreg,<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vreg</span><span style='mso-spacerun:yes'>&nbsp; </span>arrays<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>token<span style='mso-spacerun:yes'>&nbsp; </span>&lt;</span><span
class=SpellE>dval</span>&gt;<span style='mso-spacerun:yes'>&nbsp; </span>CONST<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>floating<span style='mso-spacerun:yes'>&nbsp; </span>point<span style='mso-spacerun:yes'>&nbsp; </span>constant<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>type<span style='mso-spacerun:yes'>&nbsp; </span>&lt;</span><span
class=SpellE>dval</span>&gt;<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dexp</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>expression<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%<span class=GramE>type<span style='mso-spacerun:yes'>&nbsp; </span>&lt;</span><span
class=SpellE>vval</span>&gt;<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>interval<span style='mso-spacerun:yes'>&nbsp; </span>expression<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>precedence</span><span style='mso-spacerun:yes'>&nbsp; </span>information<span style='mso-spacerun:yes'>&nbsp; </span>about<span style='mso-spacerun:yes'>&nbsp; </span>the<span style='mso-spacerun:yes'>&nbsp; </span>operators<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%left<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>'+'<span style='mso-spacerun:yes'>&nbsp; </span>'-'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%left<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>'*'<span style='mso-spacerun:yes'>&nbsp; </span>'/'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%left<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>UMINUS<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>precedence</span><span style='mso-spacerun:yes'>&nbsp; </span>for<span style='mso-spacerun:yes'>&nbsp; </span>unary<span style='mso-spacerun:yes'>&nbsp; </span>minus<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>lines</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>empty<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>lines<span style='mso-spacerun:yes'>&nbsp; </span>line</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>line</span></span><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>dexp</span><span style='mso-spacerun:yes'>&nbsp; </span>'\n'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>printf</span></span><span class=GramE>(</span><span style='mso-spacerun:yes'>&nbsp; </span>&quot;%15.8f\n&quot;,<span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>);<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>vexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>\n'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>printf</span>(<span style='mso-spacerun:yes'>&nbsp; </span>&quot;(%15.8f<span style='mso-spacerun:yes'>&nbsp; </span>,<span style='mso-spacerun:yes'>&nbsp; </span>%15.8f<span style='mso-spacerun:yes'>&nbsp; </span>)\n&quot;,<span style='mso-spacerun:yes'>&nbsp; </span>$1.lo,<span style='mso-spacerun:yes'>&nbsp; </span>$1.hi<span style='mso-spacerun:yes'>&nbsp; </span>);<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>DREG<span style='mso-spacerun:yes'>&nbsp; </span>'</span>='<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dexp</span><span style='mso-spacerun:yes'>&nbsp; </span>'\n'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>dreg[</span>$1]<span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>VREG<span style='mso-spacerun:yes'>&nbsp; </span>'</span>='<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><span style='mso-spacerun:yes'>&nbsp; </span>'\n'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>vreg</span></span><span class=GramE>[</span>$1]<span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>error<span style='mso-spacerun:yes'>&nbsp; </span>'</span>\n'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yyerrok</span></span>;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>dexp</span></span></span><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>CONST<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DREG<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>dreg[$1];<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>+'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>+<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>-'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>*<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>/'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>/<span style='mso-spacerun:yes'>&nbsp; </span>$3;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'-<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>dexp</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=SpellE>prec</span><span style='mso-spacerun:yes'>&nbsp; </span>UMINUS<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>- $2;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'(<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>dexp</span></span><span style='mso-spacerun:yes'>&nbsp; </span>')'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$2;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>vexp</span></span></span><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>:<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>dexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>$$.<span
class=GramE>hi<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$$.lo<span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>$1;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'(<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>dexp</span></span><span style='mso-spacerun:yes'>&nbsp; </span>','<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dexp</span><span style='mso-spacerun:yes'>&nbsp; </span>')'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>lo<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$2;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>hi<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$4;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span>$$.lo<span style='mso-spacerun:yes'>&nbsp; </span>&gt;<span style='mso-spacerun:yes'>&nbsp; </span>$$.hi<span style='mso-spacerun:yes'>&nbsp; </span>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>printf</span></span><span class=GramE>(</span><span style='mso-spacerun:yes'>&nbsp; </span>&quot;interval<span style='mso-spacerun:yes'>&nbsp; </span>out<span style='mso-spacerun:yes'>&nbsp; </span>of<span style='mso-spacerun:yes'>&nbsp; </span>order\n&quot;<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>YYERROR;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>VREG<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vreg</span>[$1];<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>vexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>+'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>hi<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1.hi<span style='mso-spacerun:yes'>&nbsp; </span>+<span style='mso-spacerun:yes'>&nbsp; </span>$3.hi;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>lo<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1.lo<span style='mso-spacerun:yes'>&nbsp; </span>+<span style='mso-spacerun:yes'>&nbsp; </span>$3.lo;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>+'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>hi<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>+<span style='mso-spacerun:yes'>&nbsp; </span>$3.hi;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>lo<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>+<span style='mso-spacerun:yes'>&nbsp; </span>$3.lo;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>vexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>-'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>hi<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1.hi<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>$3.lo;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>lo<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1.lo<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>$3.hi;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>-'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>hi<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>$3.lo;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>$$.<span
class=GramE>lo<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$1<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>$3.hi;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>vexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vmul</span>(<span style='mso-spacerun:yes'>&nbsp; </span>$1.lo,<span style='mso-spacerun:yes'>&nbsp; </span>$1.hi,<span style='mso-spacerun:yes'>&nbsp; </span>$3<span style='mso-spacerun:yes'>&nbsp; </span>);<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>*'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vmul</span>(<span style='mso-spacerun:yes'>&nbsp; </span>$1,<span style='mso-spacerun:yes'>&nbsp; </span>$1,<span style='mso-spacerun:yes'>&nbsp; </span>$3<span style='mso-spacerun:yes'>&nbsp; </span>);<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>vexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>/'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dcheck</span>(<span style='mso-spacerun:yes'>&nbsp; </span>$3<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>YYERROR;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vdiv</span>(<span style='mso-spacerun:yes'>&nbsp; </span>$1.lo,<span style='mso-spacerun:yes'>&nbsp; </span>$1.hi,<span style='mso-spacerun:yes'>&nbsp; </span>$3<span style='mso-spacerun:yes'>&nbsp; </span>);<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>dexp</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>'</span>/'<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vexp</span><o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>dcheck</span>(<span style='mso-spacerun:yes'>&nbsp; </span>$3<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>YYERROR;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vdiv</span>(<span style='mso-spacerun:yes'>&nbsp; </span>$1,<span style='mso-spacerun:yes'>&nbsp; </span>$1,<span style='mso-spacerun:yes'>&nbsp; </span>$3<span style='mso-spacerun:yes'>&nbsp; </span>);<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'-<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>vexp</span></span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<span
class=SpellE>prec</span><span style='mso-spacerun:yes'>&nbsp; </span>UMINUS<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$$.<span
class=GramE>hi<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>-$2.lo;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$$.lo<span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>-$2.hi;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'(<span
class=GramE>'<span style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>vexp</span></span><span style='mso-spacerun:yes'>&nbsp; </span>')'<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;</span>{<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$<span
class=GramE>$<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>$2;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>%%<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>#<span style='mso-spacerun:yes'>&nbsp; </span>define<span style='mso-spacerun:yes'>&nbsp; </span>BSZ<span style='mso-spacerun:yes'>&nbsp; </span>50<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>buffer<span style='mso-spacerun:yes'>&nbsp; </span>size<span style='mso-spacerun:yes'>&nbsp; </span>for<span style='mso-spacerun:yes'>&nbsp; </span>floating<span style='mso-spacerun:yes'>&nbsp; </span>point<span style='mso-spacerun:yes'>&nbsp; </span>numbers<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>lexical</span><span style='mso-spacerun:yes'>&nbsp; </span>analysis<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>yylex</span></span></span><span class=GramE><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'>(</span></span><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>register<span style='mso-spacerun:yes'>&nbsp; </span>c</span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>while(<span style='mso-spacerun:yes'>&nbsp; </span>(c=<span
class=SpellE>getchar</span>())<span style='mso-spacerun:yes'>&nbsp; </span>==<span style='mso-spacerun:yes'>&nbsp; </span>' <span
class=SpellE>'</span><span style='mso-spacerun:yes'>&nbsp; </span>){<span style='mso-spacerun:yes'>&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>skip<span style='mso-spacerun:yes'>&nbsp; </span>over<span style='mso-spacerun:yes'>&nbsp; </span>blanks<span style='mso-spacerun:yes'>&nbsp; </span>*/<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>isupper</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yylval.ival</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>'A';<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span><span style='mso-spacerun:yes'>&nbsp; </span>VREG<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>islower</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yylval.ival</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>-<span style='mso-spacerun:yes'>&nbsp; </span>'a';<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span><span style='mso-spacerun:yes'>&nbsp; </span>DREG<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>isdigit</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>||<span style='mso-spacerun:yes'>&nbsp; </span>c=='.'<span style='mso-spacerun:yes'>&nbsp; </span>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>gobble</span><span style='mso-spacerun:yes'>&nbsp; </span>up<span style='mso-spacerun:yes'>&nbsp; </span>digits,<span style='mso-spacerun:yes'>&nbsp; </span>points,<span style='mso-spacerun:yes'>&nbsp; </span>exponents<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>char<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>buf</span></span>[BSZ+1],<span style='mso-spacerun:yes'>&nbsp; </span>*cp<span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>buf</span>;<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>int</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>dot</span><span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>0,<span style='mso-spacerun:yes'>&nbsp; </span>exp<span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>0;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for(<span style='mso-spacerun:yes'>&nbsp; </span>;<span style='mso-spacerun:yes'>&nbsp; </span>(cp-<span
class=SpellE>buf</span>)&lt;BSZ<span style='mso-spacerun:yes'>&nbsp; </span>;<span style='mso-spacerun:yes'>&nbsp; </span>++<span
class=SpellE>cp,c</span>=<span class=SpellE>getchar</span>()<span style='mso-spacerun:yes'>&nbsp; </span>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>*<span
class=GramE>cp<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>c;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>isdigit</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>continue;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>==<span style='mso-spacerun:yes'>&nbsp; </span>'.'<span style='mso-spacerun:yes'>&nbsp; </span>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span>dot++<span style='mso-spacerun:yes'>&nbsp; </span>||<span style='mso-spacerun:yes'>&nbsp; </span>exp<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>return(<span style='mso-spacerun:yes'>&nbsp; </span>'.'<span style='mso-spacerun:yes'>&nbsp; </span>);<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>will</span><span style='mso-spacerun:yes'>&nbsp; </span>cause<span style='mso-spacerun:yes'>&nbsp; </span>syntax<span style='mso-spacerun:yes'>&nbsp; </span>error<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>continue</span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>==<span style='mso-spacerun:yes'>&nbsp; </span>'e'<span style='mso-spacerun:yes'>&nbsp; </span>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(<span style='mso-spacerun:yes'>&nbsp; </span>exp++<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>return(<span style='mso-spacerun:yes'>&nbsp; </span>'e'<span style='mso-spacerun:yes'>&nbsp; </span>);<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>will<span style='mso-spacerun:yes'>&nbsp; </span>cause<span style='mso-spacerun:yes'>&nbsp; </span>syntax<span style='mso-spacerun:yes'>&nbsp; </span>error<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span><span
class=GramE>continue</span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>end</span><span style='mso-spacerun:yes'>&nbsp; </span>of<span style='mso-spacerun:yes'>&nbsp; </span>number<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>break</span>;<o:p></o:p></span></pre><pre><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>*<span
class=GramE>cp<span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span>'\0';<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(<span style='mso-spacerun:yes'>&nbsp; </span>(cp-<span
class=SpellE>buf</span>)<span style='mso-spacerun:yes'>&nbsp; </span>&gt;=<span style='mso-spacerun:yes'>&nbsp; </span>BSZ<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>printf</span>(<span style='mso-spacerun:yes'>&nbsp; </span>&quot;constant<span style='mso-spacerun:yes'>&nbsp; </span>too<span style='mso-spacerun:yes'>&nbsp; </span>long:<span style='mso-spacerun:yes'>&nbsp; </span>truncated\n&quot;<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>ungetc</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c,<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>stdin</span><span style='mso-spacerun:yes'>&nbsp; </span>);<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>push<span style='mso-spacerun:yes'>&nbsp; </span>back<span style='mso-spacerun:yes'>&nbsp; </span>last<span style='mso-spacerun:yes'>&nbsp; </span>char<span style='mso-spacerun:yes'>&nbsp; </span>read<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>yylval.dval</span></span><span class=GramE><span style='mso-spacerun:yes'>&nbsp; </span>=</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>atof</span>(<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>buf</span><span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span><span style='mso-spacerun:yes'>&nbsp; </span>CONST<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>hilo</span>(<span style='mso-spacerun:yes'>&nbsp; </span>a,<span style='mso-spacerun:yes'>&nbsp; </span>b,<span style='mso-spacerun:yes'>&nbsp; </span>c,<span style='mso-spacerun:yes'>&nbsp; </span>d<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>double<span style='mso-spacerun:yes'>&nbsp; </span>a,<span style='mso-spacerun:yes'>&nbsp; </span>b,<span style='mso-spacerun:yes'>&nbsp; </span>c,<span style='mso-spacerun:yes'>&nbsp; </span>d;<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*<span style='mso-spacerun:yes'>&nbsp; </span>returns<span style='mso-spacerun:yes'>&nbsp; </span>the<span style='mso-spacerun:yes'>&nbsp; </span>smallest<span style='mso-spacerun:yes'>&nbsp; </span>interval<span style='mso-spacerun:yes'>&nbsp; </span>containing<span style='mso-spacerun:yes'>&nbsp; </span>a,<span style='mso-spacerun:yes'>&nbsp; </span>b,<span style='mso-spacerun:yes'>&nbsp; </span>c,<span style='mso-spacerun:yes'>&nbsp; </span>and<span style='mso-spacerun:yes'>&nbsp; </span>d<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span
class=GramE>*<span style='mso-spacerun:yes'>&nbsp; </span>used</span><span style='mso-spacerun:yes'>&nbsp; </span>by<span style='mso-spacerun:yes'>&nbsp; </span>*,<span style='mso-spacerun:yes'>&nbsp; </span>/<span style='mso-spacerun:yes'>&nbsp; </span>routines<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span>v</span>;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(<span style='mso-spacerun:yes'>&nbsp; </span>a&gt;b<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>{<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>v.hi</span><span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>a;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>v.lo</span><span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>b;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>else<span style='mso-spacerun:yes'>&nbsp; </span>{</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>v.hi</span><span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>b;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>v.lo</span><span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>a;<span style='mso-spacerun:yes'>&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c&gt;d<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c&gt;<span
class=SpellE>v.hi</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>v.hi</span><span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>c;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span>d&lt;<span
class=SpellE>v.lo</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>v.lo</span><span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>d;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>else<span style='mso-spacerun:yes'>&nbsp; </span>{</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span>d&gt;<span
class=SpellE>v.hi</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>v.hi</span><span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>d;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if</span>(<span style='mso-spacerun:yes'>&nbsp; </span>c&lt;<span
class=SpellE>v.lo</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>v.lo</span><span style='mso-spacerun:yes'>&nbsp; </span>=<span style='mso-spacerun:yes'>&nbsp; </span>c;<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span><span style='mso-spacerun:yes'>&nbsp; </span>v<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vmul</span>(<span style='mso-spacerun:yes'>&nbsp; </span>a,<span style='mso-spacerun:yes'>&nbsp; </span>b,<span style='mso-spacerun:yes'>&nbsp; </span>v<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>double<span style='mso-spacerun:yes'>&nbsp; </span>a,<span style='mso-spacerun:yes'>&nbsp; </span>b;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span>v;<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return(<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>hilo</span>(<span style='mso-spacerun:yes'>&nbsp; </span>a*<span
class=SpellE>v.hi</span>,<span style='mso-spacerun:yes'>&nbsp; </span>a*<span
class=SpellE>v.lo</span>,<span style='mso-spacerun:yes'>&nbsp; </span>b*<span
class=SpellE>v.hi</span>,<span style='mso-spacerun:yes'>&nbsp; </span>b*<span
class=SpellE>v.lo</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
class=SpellE><span class=GramE><span style='font-size:12.0pt;mso-bidi-font-size:
10.0pt'>dcheck</span></span></span><span class=GramE><span style='font-size:
12.0pt;mso-bidi-font-size:10.0pt'>(</span></span><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp; </span>v<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span>v;<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>v.hi</span><span style='mso-spacerun:yes'>&nbsp; </span>&gt;=<span style='mso-spacerun:yes'>&nbsp; </span>0.<span style='mso-spacerun:yes'>&nbsp; </span>&amp;<span
class=GramE>&amp;<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>v.lo</span></span><span style='mso-spacerun:yes'>&nbsp; </span>&lt;=<span style='mso-spacerun:yes'>&nbsp; </span>0.<span style='mso-spacerun:yes'>&nbsp; </span>){<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>printf</span></span><span class=GramE>(</span><span style='mso-spacerun:yes'>&nbsp; </span>&quot;divisor<span style='mso-spacerun:yes'>&nbsp; </span>interval<span style='mso-spacerun:yes'>&nbsp; </span>contains<span style='mso-spacerun:yes'>&nbsp; </span>0.\n&quot;<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span><span style='mso-spacerun:yes'>&nbsp; </span>1<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span><span style='mso-spacerun:yes'>&nbsp; </span>0<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>vdiv</span>(<span style='mso-spacerun:yes'>&nbsp; </span>a,<span style='mso-spacerun:yes'>&nbsp; </span>b,<span style='mso-spacerun:yes'>&nbsp; </span>v<span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>double<span style='mso-spacerun:yes'>&nbsp; </span>a,<span style='mso-spacerun:yes'>&nbsp; </span>b;<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>INTERVAL<span style='mso-spacerun:yes'>&nbsp; </span>v;<span style='mso-spacerun:yes'>&nbsp; </span>{<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return( <span style='mso-spacerun:yes'>&nbsp;</span><span
class=SpellE>hilo</span>(<span style='mso-spacerun:yes'>&nbsp; </span>a/<span
class=SpellE>v.hi</span>,<span style='mso-spacerun:yes'>&nbsp; </span>a/<span
class=SpellE>v.lo</span>,<span style='mso-spacerun:yes'>&nbsp; </span>b/<span
class=SpellE>v.hi</span>,<span style='mso-spacerun:yes'>&nbsp; </span>b/<span
class=SpellE>v.lo</span><span style='mso-spacerun:yes'>&nbsp; </span>)<span style='mso-spacerun:yes'>&nbsp; </span>);<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Appendix
D: Old Features Supported but not Encouraged <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>This Appendix
mentions synonyms and features which are supported for historical continuity,
but, for various reasons, are not encouraged. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>1. Literals may
also be delimited by double quotes ``&quot;''. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>2. Literals may be
more than one character long. If all the characters are alphabetic, numeric, or
_, the type number of the literal is defined, just as if the literal did not
have the quotes around it. Otherwise, it is difficult to find the value for
such literals. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>The use of
multi-character literals is likely to mislead those unfamiliar with <span
class=SpellE>Yacc</span>, since it suggests that <span class=SpellE>Yacc</span>
is doing a job which must be actually done by the lexical analyzer. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>3. Most places
where % is legal, backslash ``\'' may be used. In particular, \\ is the same as
%%, \left the same as %left, etc. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>4. There are a
number of other synonyms: <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%&lt; is the same as %left<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%&gt; is the same as %right<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%binary and %2 are the same as %<span
class=SpellE>nonassoc</span><o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%0 and %term are the same as %token<o:p></o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%= is the same as %<span
class=SpellE>prec</span><o:p></o:p></span></pre>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>5. Actions may also
have the form <o:p></o:p></span></p>

<pre><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></pre><pre><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>={ . . . }<o:p></o:p></span></pre>

<p class=MsoNormal><span class=GramE><span style='font-size:14.0pt;mso-bidi-font-size:
12.0pt'>and</span></span><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>
the curly braces can be dropped if the action is a single C statement. <o:p></o:p></span></p>

<p><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>6. C code between
%{ and %} used to be permitted at the head of the rules section, as well as in
the declaration section. <o:p></o:p></span></p>

</div>

</body>

<!-- Mirrored from dinosaur.compilertools.net/yacc/index.html by HTTrack Website Copier/3.x [XR&CO'2004], Thu, 29 Apr 2004 07:25:52 GMT -->
</html>
